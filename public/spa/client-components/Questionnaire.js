(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{416:function(t,e,i){var n=i(639);"string"==typeof n&&(n=[[t.i,n,""]]);var s={insert:"head",singleton:!1};i(7)(n,s);n.locals&&(t.exports=n.locals)},417:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"TEST_MESSAGE":"Test Message"},"zh-TW":{"TEST_MESSAGE":"測試訊息"}}'),delete t.options._Ctor}},418:function(t,e,i){var n=i(642);"string"==typeof n&&(n=[[t.i,n,""]]);var s={insert:"head",singleton:!1};i(7)(n,s);n.locals&&(t.exports=n.locals)},419:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"TEST_MESSAGE":"Test Message"},"zh-TW":{"TEST_MESSAGE":"測試訊息"}}'),delete t.options._Ctor}},638:function(t,e,i){"use strict";var n=i(416);i.n(n).a},639:function(t,e,i){(t.exports=i(6)(!1)).push([t.i,".hint[data-v-359e549b]{max-height:7rem;overflow-x:hidden;overflow-y:auto}textarea.answer[data-v-359e549b]{height:calc(100vh - 25em)!important}",""])},640:function(t,e,i){"use strict";var n=i(417),s=i.n(n);e.default=s.a},641:function(t,e,i){"use strict";var n=i(418);i.n(n).a},642:function(t,e,i){(t.exports=i(6)(!1)).push([t.i,".hint[data-v-71c8473b]{max-height:7rem;overflow-x:hidden;overflow-y:auto}textarea.answer[data-v-71c8473b]{height:calc(100vh - 25em)!important}",""])},643:function(t,e,i){"use strict";var n=i(419),s=i.n(n);e.default=s.a},724:function(t,e,i){"use strict";i.r(e);function n(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",{staticClass:"Questionnaire"},[n("modal",{ref:"Modal",staticClass:"Questionnaire",attrs:{config:i.config,status:i.status,lib:i.lib,dimmer:"opaque",cancelable:"false"},scopedSlots:i._u([{key:"header",fn:function(){return[i._v("\r\n      "+i._s(i.header)+"\r\n    ")]},proxy:!0},{key:"content",fn:function(){return[n("iframe-message-segment",{staticClass:"field hint",attrs:{config:i.config,message:i.instruction}}),i._v(" "),n("div",{staticClass:"field"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:i.answer,expression:"answer"}],staticClass:"answer",attrs:{disabled:i.isTimeUp},domProps:{value:i.answer},on:{input:[function(t){t.target.composing||(i.answer=t.target.value)},i.persist],paste:function(t){if(t.target!==t.currentTarget)return null;t.preventDefault()}}})])]},proxy:!0},{key:"actions",fn:function(){return[n("countdown-button",{staticClass:"questionnaire-submit",attrs:{minWordCount:i.minWords,enableClassNames:"ui green right labeled icon button",text:i.answer,lib:i.lib,locale:i.status.preference.locale,countdownSec:i.remainingSeconds,enable:i.isTimeUp,isWaitingLoading:i.isWaitingLoading,ignoreWordCount:!0,autoClickSeconds:5},on:{click:i.nextStep,timeup:i.onTimeup},scopedSlots:i._u([{key:"default",fn:function(t){var e=t.autoClickRemainingSeconds;return[i._v("\r\n          "+i._s(i.$t("NEXT"))+"\r\n\r\n          "),e?[i._v("\r\n            ("+i._s(e)+")\r\n          ")]:i._e(),i._v(" "),n("i",{staticClass:"angle right icon"})]}}])})]},proxy:!0}])}),i._v(" "),n("activity-timer",{attrs:{config:i.config,lib:i.lib}}),i._v(" "),n("block-exit")],1)}n._withStripped=!0;var s,r=i(4),o=i.n(r),a=i(0),l=i.n(a),u=i(1),c={props:["lib","status","config"],data:function(){this.$i18n.locale=this.config.locale;var t="PreImaginary",e={};if("object"===o()(this.status)&&"object"===o()(this.status.readingConfig)){if("object"===o()(this.status.readingConfig.readingProgressModules)&&"object"===o()(this.status.readingConfig.readingProgressModules[t]))for(var i in this.status.readingConfig.readingProgressModules[t])e[i]=this.status.readingConfig.readingProgressModules[t][i];e.readingConfig=this.status.readingConfig}return e.log={answer:"",start_timestamp:null},e.persistKey=t+".log",e.remainingSeconds=null,e.answer="",e.header=this.$t("READING_PROGRESS."+t),e.isTimeUp=!1,e.isWaitingLoading=!1,e},computed:{buttonText:function(){if("number"!=typeof this.log.start_timestamp)return"("+this.$t("Waiting")+")";if(0<this.remainingSeconds){var t=this.lib.DayJSHelper.formatHHMMSS(this.remainingSeconds);return"("+this.$t("Remaining Time: {0}",[t])+")"}return""},buttonClass:function(){return""},wordCount:function(){return"object"!==o()(this.log)||"string"!=typeof this.log.answer?0:this.lib.StringHelper.countWords(this.log.answer)},displayCharacterCounter:function(){if("object"!==o()(this.log)||"string"!=typeof this.log.answer)return"";var t=this.$t("{0} word",[this.wordCount]);if(this.wordCount<this.minWords){var e=this.minWords-this.wordCount;t=t+" ("+this.$t("You still need to write {0} words more.",[e])+")"}return t},classWordCounter:function(){return this.wordCount<this.minWords?"red":"green"}},watch:{answer:function(t){t!==this.log.answer&&(this.log.answer=t)}},mounted:function(){this.initLog(),this.$refs.Modal.show()},methods:{initLog:function(){var t=localStorage.getItem(this.persistKey);if(null!==t)try{this.log=JSON.parse(t),this.answer=this.log.answer,this.remainingSeconds=60*this.limitMinutes-Math.round((this.lib.DayJSHelper.time()-this.log.start_timestamp)/1e3),this.remainingSeconds<=0&&(this.isTimeUp=!0)}catch(t){}},persist:function(){"object"===o()(this.log)&&("number"!=typeof this.log.start_timestamp&&(this.log.start_timestamp=this.lib.DayJSHelper.time(),this.remainingSeconds=60*this.limitMinutes),localStorage.setItem(this.persistKey,JSON.stringify(this.log)))},onTimeup:function(){this.isTimeUp=!0},nextStep:(s=i.n(u)()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.isWaitingLoading=!0,t.next=3,this.lib.AxiosHelper.post("/client/ReadingProgress/end",this.log);case 3:return localStorage.removeItem(this.persistKey),this.$refs.Modal&&this.$refs.Modal.hide(),t.next=7,this.lib.auth.nextStep(!1);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t,this)})),function(){return s.apply(this,arguments)})}};c.data=function(){this.$i18n.locale=this.config.locale;var t="PostRecall",e={};if("object"===o()(this.status)&&"object"===o()(this.status.readingConfig)){if("object"===o()(this.status.readingConfig.readingProgressModules)&&"object"===o()(this.status.readingConfig.readingProgressModules[t]))for(var i in this.status.readingConfig.readingProgressModules[t])e[i]=this.status.readingConfig.readingProgressModules[t][i];e.readingConfig=this.status.readingConfig}return e.log={answer:"",start_timestamp:null},e.persistKey=t+".log",e.remainingSeconds=null,e.answer="",e.header=this.$t(t),e.isTimeUp=!1,e.header=this.$t("READING_PROGRESS."+t),e.isWaitingLoading=!1,e};var g=c,d=(i(638),i(2)),h=i(640),f=Object(d.a)(g,n,[],!1,null,"359e549b",null);"function"==typeof h.default&&Object(h.default)(f),f.options.__file="webpack-app/client/Questionnaire/PostRecall/PostRecall.vue";e.default=f.exports},735:function(t,e,i){"use strict";i.r(e);function n(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",{staticClass:"Questionnaire"},[n("modal",{ref:"Modal",staticClass:"Questionnaire",attrs:{config:i.config,status:i.status,lib:i.lib,dimmer:"opaque",cancelable:"false"},scopedSlots:i._u([{key:"header",fn:function(){return[i._v("\r\n      "+i._s(i.header)+"\r\n    ")]},proxy:!0},{key:"content",fn:function(){return[n("iframe-message-segment",{staticClass:"field hint",attrs:{config:i.config,message:i.instruction}}),i._v(" "),n("div",{staticClass:"field"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:i.answer,expression:"answer"}],staticClass:"answer",attrs:{disabled:i.isTimeUp},domProps:{value:i.answer},on:{input:[function(t){t.target.composing||(i.answer=t.target.value)},i.persist],paste:function(t){if(t.target!==t.currentTarget)return null;t.preventDefault()}}})])]},proxy:!0},{key:"actions",fn:function(){return[n("countdown-button",{staticClass:"questionnaire-submit",attrs:{minWordCount:i.minWords,enableClassNames:"ui green right labeled icon button",text:i.answer,lib:i.lib,locale:i.status.preference.locale,countdownSec:i.remainingSeconds,enable:i.isTimeUp,isWaitingLoading:i.isWaitingLoading,ignoreWordCount:!0,autoClickSeconds:5},on:{click:i.nextStep,timeup:i.onTimeup},scopedSlots:i._u([{key:"default",fn:function(t){var e=t.autoClickRemainingSeconds;return[i._v("\r\n          "+i._s(i.$t("NEXT"))+"\r\n\r\n          "),e?[i._v("\r\n            ("+i._s(e)+")\r\n          ")]:i._e(),i._v(" "),n("i",{staticClass:"angle right icon"})]}}])})]},proxy:!0}])}),i._v(" "),n("activity-timer",{attrs:{config:i.config,lib:i.lib}}),i._v(" "),n("block-exit")],1)}n._withStripped=!0;var s,r=i(0),o=i.n(r),a=i(1),l=i.n(a),u=i(4),c=i.n(u),g={props:["lib","status","config"],data:function(){this.$i18n.locale=this.config.locale;var t="PreImaginary",e={};if("object"===c()(this.status)&&"object"===c()(this.status.readingConfig)){if("object"===c()(this.status.readingConfig.readingProgressModules)&&"object"===c()(this.status.readingConfig.readingProgressModules[t]))for(var i in this.status.readingConfig.readingProgressModules[t])e[i]=this.status.readingConfig.readingProgressModules[t][i];e.readingConfig=this.status.readingConfig}return e.log={answer:"",start_timestamp:null},e.persistKey=t+".log",e.remainingSeconds=null,e.answer="",e.header=this.$t("READING_PROGRESS."+t),e.isTimeUp=!1,e.isWaitingLoading=!1,e},computed:{buttonText:function(){if("number"!=typeof this.log.start_timestamp)return"("+this.$t("Waiting")+")";if(0<this.remainingSeconds){var t=this.lib.DayJSHelper.formatHHMMSS(this.remainingSeconds);return"("+this.$t("Remaining Time: {0}",[t])+")"}return""},buttonClass:function(){return""},wordCount:function(){return"object"!==c()(this.log)||"string"!=typeof this.log.answer?0:this.lib.StringHelper.countWords(this.log.answer)},displayCharacterCounter:function(){if("object"!==c()(this.log)||"string"!=typeof this.log.answer)return"";var t=this.$t("{0} word",[this.wordCount]);if(this.wordCount<this.minWords){var e=this.minWords-this.wordCount;t=t+" ("+this.$t("You still need to write {0} words more.",[e])+")"}return t},classWordCounter:function(){return this.wordCount<this.minWords?"red":"green"}},watch:{answer:function(t){t!==this.log.answer&&(this.log.answer=t)}},mounted:function(){this.initLog(),this.$refs.Modal.show()},methods:{initLog:function(){var t=localStorage.getItem(this.persistKey);if(null!==t)try{this.log=JSON.parse(t),this.answer=this.log.answer,this.remainingSeconds=60*this.limitMinutes-Math.round((this.lib.DayJSHelper.time()-this.log.start_timestamp)/1e3),this.remainingSeconds<=0&&(this.isTimeUp=!0)}catch(t){}},persist:function(){"object"===c()(this.log)&&("number"!=typeof this.log.start_timestamp&&(this.log.start_timestamp=this.lib.DayJSHelper.time(),this.remainingSeconds=60*this.limitMinutes),localStorage.setItem(this.persistKey,JSON.stringify(this.log)))},onTimeup:function(){this.isTimeUp=!0},nextStep:(s=l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.isWaitingLoading=!0,t.next=3,this.lib.AxiosHelper.post("/client/ReadingProgress/end",this.log);case 3:return localStorage.removeItem(this.persistKey),this.$refs.Modal&&this.$refs.Modal.hide(),t.next=7,this.lib.auth.nextStep(!1);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t,this)})),function(){return s.apply(this,arguments)})}},d=(i(641),i(2)),h=i(643),f=Object(d.a)(g,n,[],!1,null,"71c8473b",null);"function"==typeof h.default&&Object(h.default)(f),f.options.__file="webpack-app/client/Questionnaire/PreImaginary/PreImaginary.vue";e.default=f.exports}}]);