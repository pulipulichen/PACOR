(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{142:function(t,e,i){var s=i(234);"string"==typeof s&&(s=[[t.i,s,""]]);var n={insert:"head",singleton:!1};i(6)(s,n);s.locals&&(t.exports=s.locals)},143:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"TEST_MESSAGE":"Test Message"},"zh-TW":{"TEST_MESSAGE":"測試訊息"}}'),delete t.options._Ctor}},144:function(t,e,i){var s=i(237);"string"==typeof s&&(s=[[t.i,s,""]]);var n={insert:"head",singleton:!1};i(6)(s,n);s.locals&&(t.exports=s.locals)},145:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"TEST_MESSAGE":"Test Message"},"zh-TW":{"TEST_MESSAGE":"測試訊息"}}'),delete t.options._Ctor}},233:function(t,e,i){"use strict";var s=i(142);i.n(s).a},234:function(t,e,i){(t.exports=i(5)(!1)).push([t.i,".hint[data-v-ea54b752]{max-height:7rem;overflow-x:hidden;overflow-y:auto}textarea.answer[data-v-ea54b752]{height:calc(100vh - 25em)!important}",""])},235:function(t,e,i){"use strict";var s=i(143),n=i.n(s);e.default=n.a},236:function(t,e,i){"use strict";var s=i(144);i.n(s).a},237:function(t,e,i){(t.exports=i(5)(!1)).push([t.i,".hint[data-v-91cd4e12]{max-height:7rem;overflow-x:hidden;overflow-y:auto}textarea.answer[data-v-91cd4e12]{height:calc(100vh - 25em)!important}",""])},238:function(t,e,i){"use strict";var s=i(145),n=i.n(s);e.default=n.a},303:function(t,e,i){"use strict";i.r(e);function s(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{on:{click:e.lib.auth.nextStep}},[i("modal",{ref:"Modal",attrs:{config:e.config,status:e.status,progress:e.progress,error:e.error,lib:e.lib,dimmerTransparent:"false",cancelable:"false"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\r\n        "+e._s(e.$t("Post Recall"))+"\r\n      ")]},proxy:!0},{key:"content",fn:function(){return[i("div",{staticClass:"field hint ui segment",domProps:{innerHTML:e._s(e.message)}}),e._v(" "),i("div",{staticClass:"field"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.log.answer,expression:"log.answer"}],staticClass:"answer",attrs:{disabled:e.isTimeUp},domProps:{value:e.log.answer},on:{input:[function(t){t.target.composing||e.$set(e.log,"answer",t.target.value)},e.persist]}}),e._v(" "),e.isTimeUp?e._e():i("div",{staticClass:"ui pointing basic label",class:e.classWordCounter},[e._v("\r\n              "+e._s(e.displayCharacterCounter)+"\r\n            ")])])]},proxy:!0},{key:"actions",fn:function(){return[e.isTimeUp?e._e():i("div",{staticClass:"ui button disabled",domProps:{innerHTML:e._s(e.buttonText)}}),e._v(" "),e.isTimeUp?i("div",{staticClass:"ui green right labeled icon button",on:{click:e.nextStep}},[e._v("\r\n            "+e._s(e.$t("NEXT"))+"\r\n            "),i("i",{staticClass:"angle right icon"})]):e._e()]},proxy:!0}])}),e._v(" "),i("activity-timer",{attrs:{config:e.config,lib:e.lib}}),e._v(" "),i("block-exit")],1)}s._withStripped=!0;var n,r=i(1),o=i.n(r),a=i(0),l=i.n(a),u=i(2),c={props:["lib","status","config","progress","error","view"],data:function(){this.$i18n.locale=this.config.locale;var t="PreImaginary",e={};if("object"===o()(this.status)&&"object"===o()(this.status.readingConfig)){if("object"===o()(this.status.readingConfig.readingProgressModules)&&"object"===o()(this.status.readingConfig.readingProgressModules[t]))for(var i in this.status.readingConfig.readingProgressModules[t])e[i]=this.status.readingConfig.readingProgressModules[t][i];e.readingConfig=this.status.readingConfig}return e.log={answer:"",start_timestamp:null},e.persistKey=t+".log",e.remainingSeconds=null,e},computed:{buttonText:function(){if("number"!=typeof this.log.start_timestamp)return"("+this.$t("Waiting")+")";if(0<this.remainingSeconds){var t=this.lib.DayJSHelper.formatHHMMSS(this.remainingSeconds);return"("+this.$t("Remaining Time: {0}",[t])+")"}return""},buttonClass:function(){return""},wordCount:function(){return"object"!==o()(this.log)||"string"!=typeof this.log.answer?0:this.lib.StringHelper.countWords(this.log.answer)},displayCharacterCounter:function(){if("object"!==o()(this.log)||"string"!=typeof this.log.answer)return"";var t=this.$t("{0} word",[this.wordCount]);if(this.wordCount<this.minCharacters){var e=this.minCharacters-this.wordCount;t=t+" ("+this.$t("You still need to write {0} words more.",[e])+")"}return t},classWordCounter:function(){return this.wordCount<this.minCharacters?"red":"green"},isTimeUp:function(){return"number"==typeof this.remainingSeconds&&this.remainingSeconds<=0}},watch:{remainingSeconds:function(){"number"==typeof this.remainingSeconds&&0<this.remainingSeconds&&this.startCountdown()}},mounted:function(){this.initLog(),this.$refs.Modal.show()},methods:{initLog:function(){var t=localStorage.getItem(this.persistKey);if(null!==t)try{this.log=JSON.parse(t),this.remainingSeconds=60*this.limitMinutes-Math.round((this.lib.DayJSHelper.time()-this.log.start_timestamp)/1e3)}catch(t){}},persist:function(){"object"===o()(this.log)&&("number"!=typeof this.log.start_timestamp&&(this.log.start_timestamp=this.lib.DayJSHelper.time(),this.remainingSeconds=60*this.limitMinutes),localStorage.setItem(this.persistKey,JSON.stringify(this.log)))},startCountdown:function(){var t=this;setTimeout(function(){0<t.remainingSeconds&&t.remainingSeconds--},1e3)},nextStep:(n=i.n(u)()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.lib.AxiosHelper.post("/client/ReadingProgress/end",this.log);case 2:return localStorage.removeItem(this.persistKey),this.$refs.Modal.hide(),t.next=6,this.lib.auth.nextStep(!1);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)})),function(){return n.apply(this,arguments)})}};c.data=function(){this.$i18n.locale=this.config.locale;var t="PostRecall",e={};if("object"===o()(this.status)&&"object"===o()(this.status.readingConfig)){if("object"===o()(this.status.readingConfig.readingProgressModules)&&"object"===o()(this.status.readingConfig.readingProgressModules[t]))for(var i in this.status.readingConfig.readingProgressModules[t])e[i]=this.status.readingConfig.readingProgressModules[t][i];e.readingConfig=this.status.readingConfig}return e.log={answer:"",start_timestamp:null},e.persistKey=t+".log",e.remainingSeconds=null,e};var g=c,d=(i(233),i(4)),h=i(235),f=Object(d.a)(g,s,[],!1,null,"ea54b752",null);"function"==typeof h.default&&Object(h.default)(f),f.options.__file="webpack-app/client/components/ReadingProgressesModuels/Questionnaire/PostRecall/PostRecall.vue";e.default=f.exports},308:function(t,e,i){"use strict";i.r(e);function s(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("modal",{ref:"Modal",attrs:{config:e.config,status:e.status,progress:e.progress,error:e.error,lib:e.lib,dimmerTransparent:"false",cancelable:"false"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("\r\n        "+e._s(e.$t("Pre Imaginary"))+"\r\n      ")]},proxy:!0},{key:"content",fn:function(){return[i("div",{staticClass:"field hint ui segment",domProps:{innerHTML:e._s(e.message)}}),e._v(" "),i("div",{staticClass:"field"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.log.answer,expression:"log.answer"}],staticClass:"answer",attrs:{disabled:e.isTimeUp},domProps:{value:e.log.answer},on:{input:[function(t){t.target.composing||e.$set(e.log,"answer",t.target.value)},e.persist]}}),e._v(" "),e.isTimeUp?e._e():i("div",{staticClass:"ui pointing basic label",class:e.classWordCounter},[e._v("\r\n              "+e._s(e.displayCharacterCounter)+"\r\n            ")])])]},proxy:!0},{key:"actions",fn:function(){return[e.isTimeUp?e._e():i("div",{staticClass:"ui button disabled",domProps:{innerHTML:e._s(e.buttonText)}}),e._v(" "),e.isTimeUp?i("div",{staticClass:"ui green right labeled icon button",on:{click:e.nextStep}},[e._v("\r\n            "+e._s(e.$t("NEXT"))+"\r\n            "),i("i",{staticClass:"angle right icon"})]):e._e()]},proxy:!0}])}),e._v(" "),i("activity-timer",{attrs:{config:e.config,lib:e.lib}}),e._v(" "),i("block-exit")],1)}s._withStripped=!0;var n,r=i(0),o=i.n(r),a=i(2),l=i.n(a),u=i(1),c=i.n(u),g={props:["lib","status","config","progress","error","view"],data:function(){this.$i18n.locale=this.config.locale;var t="PreImaginary",e={};if("object"===c()(this.status)&&"object"===c()(this.status.readingConfig)){if("object"===c()(this.status.readingConfig.readingProgressModules)&&"object"===c()(this.status.readingConfig.readingProgressModules[t]))for(var i in this.status.readingConfig.readingProgressModules[t])e[i]=this.status.readingConfig.readingProgressModules[t][i];e.readingConfig=this.status.readingConfig}return e.log={answer:"",start_timestamp:null},e.persistKey=t+".log",e.remainingSeconds=null,e},computed:{buttonText:function(){if("number"!=typeof this.log.start_timestamp)return"("+this.$t("Waiting")+")";if(0<this.remainingSeconds){var t=this.lib.DayJSHelper.formatHHMMSS(this.remainingSeconds);return"("+this.$t("Remaining Time: {0}",[t])+")"}return""},buttonClass:function(){return""},wordCount:function(){return"object"!==c()(this.log)||"string"!=typeof this.log.answer?0:this.lib.StringHelper.countWords(this.log.answer)},displayCharacterCounter:function(){if("object"!==c()(this.log)||"string"!=typeof this.log.answer)return"";var t=this.$t("{0} word",[this.wordCount]);if(this.wordCount<this.minCharacters){var e=this.minCharacters-this.wordCount;t=t+" ("+this.$t("You still need to write {0} words more.",[e])+")"}return t},classWordCounter:function(){return this.wordCount<this.minCharacters?"red":"green"},isTimeUp:function(){return"number"==typeof this.remainingSeconds&&this.remainingSeconds<=0}},watch:{remainingSeconds:function(){"number"==typeof this.remainingSeconds&&0<this.remainingSeconds&&this.startCountdown()}},mounted:function(){this.initLog(),this.$refs.Modal.show()},methods:{initLog:function(){var t=localStorage.getItem(this.persistKey);if(null!==t)try{this.log=JSON.parse(t),this.remainingSeconds=60*this.limitMinutes-Math.round((this.lib.DayJSHelper.time()-this.log.start_timestamp)/1e3)}catch(t){}},persist:function(){"object"===c()(this.log)&&("number"!=typeof this.log.start_timestamp&&(this.log.start_timestamp=this.lib.DayJSHelper.time(),this.remainingSeconds=60*this.limitMinutes),localStorage.setItem(this.persistKey,JSON.stringify(this.log)))},startCountdown:function(){var t=this;setTimeout(function(){0<t.remainingSeconds&&t.remainingSeconds--},1e3)},nextStep:(n=l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.lib.AxiosHelper.post("/client/ReadingProgress/end",this.log);case 2:return localStorage.removeItem(this.persistKey),this.$refs.Modal.hide(),t.next=6,this.lib.auth.nextStep(!1);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)})),function(){return n.apply(this,arguments)})}},d=(i(236),i(4)),h=i(238),f=Object(d.a)(g,s,[],!1,null,"91cd4e12",null);"function"==typeof h.default&&Object(h.default)(f),f.options.__file="webpack-app/client/components/ReadingProgressesModuels/Questionnaire/PreImaginary/PreImaginary.vue";e.default=f.exports}}]);