{"version":3,"sources":["webpack:///./webpack-app/client/Questionnaire/PreImaginary/PreImaginary.html?20a6","webpack:///./webpack-app/client/Questionnaire/PreImaginary/PreImaginary.html","webpack:///./webpack-app/client/Questionnaire/PreImaginary/PreImaginary.js?5a9f","webpack:///./webpack-app/client/Questionnaire/PreImaginary/PreImaginary.js","webpack:///./webpack-app/client/Questionnaire/PreImaginary/PreImaginary.vue","webpack:///./webpack-app/client/Questionnaire/components/Instruction/Instruction.js?cf1f","webpack:///./webpack-app/client/Questionnaire/components/Instruction/Instruction.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,8BAA8B;AACnC;AACA;AACA;AACA,gBAAgB,uDAAuD;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5CA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA,wCAA+D,CAAgB,gJAAG,EAAC,C;;;;;;;;;;;;ACAnF;AAAA;AAAA;AAAmF;AACJ;;AAE/E;AACA;AACA,U;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,qBAAqB,2FAAa;AAClC,mBAAmB,4FAAW;AAC9B,GAAG;AACH;;AAEe,2E;;;;;;;;;;;;AChBf;AAAA;AAAA;AAAA;AAA4F;AAC7B;AACL;;;AAG1D;AACgG;AAChG,gBAAgB,2GAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,wFAAM;AACR,EAAE,iGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAA8D,CAAgB,+IAAG,EAAC,C;;;;;;;;;;;;ACAlF;AAAA;AAAA;AAAsB;;AAEtB;AACA;AACA,U;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,4EAA4E,EAAE,MAAM;AACpF,KAAK;AACL;AACA,iEAAiE,EAAE;AACnE,KAAK;AACL;AACA,iEAAiE,EAAE;AACnE,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA,sBAAsB,6CAAC;AACvB;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL,GAAG;AACH;;AAEe,0E","file":"client-components/PreImaginary.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"PreImaginary\" },\n    [\n      _c(\"questionnaire\", {\n        ref: \"Questionnaire\",\n        attrs: { config: _vm.config, status: _vm.status, lib: _vm.lib },\n        scopedSlots: _vm._u([\n          {\n            key: \"instruction\",\n            fn: function() {\n              return [\n                _c(\n                  \"div\",\n                  {\n                    staticClass:\n                      \"ui segment field hint instruction-component content-full-height\"\n                  },\n                  [\n                    _c(\"instruction\", {\n                      attrs: {\n                        config: _vm.config,\n                        status: _vm.status,\n                        lib: _vm.lib\n                      }\n                    })\n                  ],\n                  1\n                )\n              ]\n            },\n            proxy: true\n          }\n        ])\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./PreImaginary.html?vue&type=template&id=71c8473b&\"","import mod from \"-!./PreImaginary.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!./PreImaginary.js?vue&type=script&lang=js&\"","import Questionnaire from './../components/QuestionnairePage/QuestionnairePage.vue'\nimport Instruction from './PreImaginaryInstruction/PreImaginaryInstruction.vue'\n\nlet PreImaginary = {\n  props: ['lib', 'status', 'config'],\n  data() {    \n    this.$i18n.locale = this.config.locale\n    return {\n    }\n  },\n  components: {\n    'questionnaire': Questionnaire,\n    'instruction': Instruction\n  },\n}\n\nexport default PreImaginary","import { render, staticRenderFns } from \"./PreImaginary.html?vue&type=template&id=71c8473b&\"\nimport script from \"./PreImaginary.js?vue&type=script&lang=js&\"\nexport * from \"./PreImaginary.js?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\xampp\\\\htdocs\\\\projects-nodejs\\\\PACOR\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('71c8473b')) {\n      api.createRecord('71c8473b', component.options)\n    } else {\n      api.reload('71c8473b', component.options)\n    }\n    module.hot.accept(\"./PreImaginary.html?vue&type=template&id=71c8473b&\", function () {\n      api.rerender('71c8473b', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"webpack-app/client/Questionnaire/PreImaginary/PreImaginary.vue\"\nexport default component.exports","import mod from \"-!./Instruction.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!./Instruction.js?vue&type=script&lang=js&\"","import $ from 'jquery'\n\nlet Instruction = {\n  props: ['lib', 'status', 'config'],\n  data() {    \n    this.$i18n.locale = this.config.locale\n    return {\n      sections: null,\n      paragraphies: null,\n      wordCount: 0,\n      paragraphyCount: 0,\n      sectionCount: 0,\n      headings: [],\n      images: []\n    }\n  },\n//  components: {\n//  },\n  computed: {\n    articleTitle () {\n      return document.title\n    },\n    readingProgressModules () {\n      return this.status.readingConfig.readingProgressModules\n    },\n    preImaginaryConfig () {\n      return this.readingProgressModules.PreImaginary\n    },\n    postRecallConfig () {\n      return this.readingProgressModules.PostRecall\n    },\n    titleHTML () {\n      return this.$t(`This article is titled <span class='highlight'>&quot;{0}&quot;</span>.`, [this.articleTitle])\n    },\n    timeLimitTypeStart () {\n      return this.$t(`The time limit is <span class='highlight'>{0} minutes</span> and the countdown starts when you start typing.`, [this.preImaginaryConfig.limitMinutes])\n    },\n    timeLimitAutoStart () {\n      return this.$t(`The time limit is <span class='highlight'>{0} minutes</span> and the countdown starts now.`, [this.preImaginaryConfig.limitMinutes])\n    },\n    isDiffMode () {\n      let isDiffMode = false\n      if (this.lib.auth\n              && this.lib.auth.currentStepConfig.preloadPreImaginaryAnswer) {\n        isDiffMode = this.lib.auth.currentStepConfig.preloadPreImaginaryAnswer\n      }\n      return isDiffMode\n    }\n  },\n//  watch: {\n//  },\n  mounted() {\n    this.calculating()\n  },\n  methods: {\n    calculating () {\n      this.sections = $('section')\n      this.paragraphies = this.sections.children()\n\n      let text = this.lib.StringHelper.htmlToTextTrim(this.sections.html(), true)\n      this.wordCount = this.lib.StringHelper.countWords(text)\n\n      this.paragraphyCount = this.paragraphies.length\n\n      this.sectionCount = this.sections.length\n\n      let headings = []\n      //console.log(this.sections.find('h1,h2,h3,h4,h5,h6').length)\n      this.sections.find('h1,h2,h3,h4,h5,h6').each((i, heading) => {\n        headings.push(heading.innerText.trim())\n      })\n      this.headings = headings\n\n      let images = []\n      this.sections.find('img').each((i, image) => {\n        \n        // 這邊要做動態縮圖\n        \n        images.push({\n          src: this.resizeImage(image),\n          title: (image.title ? image.title : image.alt)\n        })\n      })\n      this.images = images\n    },\n    resizeImage (image) {\n      let oCanvas = document.createElement(\"canvas\")\n      let oCtx = oCanvas.getContext(\"2d\")\n      \n      let oColorImg = image\n      let nWidth = oColorImg.offsetWidth\n      let nHeight = oColorImg.offsetHeight\n      \n      let maxSize = 200\n      if (nWidth > nHeight) {\n        if (nWidth > 200) {\n          nHeight = 200 * (nHeight / nWidth)\n          nWidth = 200\n        }\n      }\n      else {\n        if (nHeight > 200) {\n          nWidth = 200 * (nWidth / nHeight)\n          nHeight = 200\n        }\n      }\n      \n      oCanvas.width = nWidth\n      oCanvas.height = nHeight\n      oCtx.drawImage(oColorImg, 0, 0, oColorImg.offsetWidth, oColorImg.offsetHeight, 0,0,nWidth,nHeight);\n      \n      return oCanvas.toDataURL()\n    },\n  } // methods\n}\n\nexport default Instruction"],"sourceRoot":""}