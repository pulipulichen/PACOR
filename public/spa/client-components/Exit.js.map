{"version":3,"sources":["webpack:///./webpack-app/client/Exit/Exit.yaml","webpack:///./webpack-app/client/Exit/Exit.less","webpack:///./webpack-app/client/Exit/Exit.html?9022","webpack:///./webpack-app/client/Exit/Exit.less?e3ea","webpack:///./webpack-app/client/Exit/Exit.html","webpack:///./webpack-app/client/Exit/Exit.js?8134","webpack:///./webpack-app/client/Exit/Exit.js","webpack:///./webpack-app/client/Exit/Exit.less?0fa1","webpack:///./webpack-app/client/Exit/Exit.vue","webpack:///./webpack-app/client/Exit/Exit.yaml?6ebd","webpack:///./webpack-app/client/Exit/jquery.fireworks/jquery.fireworks.mute.js"],"names":[],"mappings":"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;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;;AAEA,uBAAuB,WAAW;AAClC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;;AAEA;;AAEA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC,CAAC,6CAAM","file":"client-components/Exit.js","sourcesContent":["module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"en\":null,\"zh-TW\":{\"Thank you for your reading\":\"感謝您的閱讀\",\"Congratulation! You finished reading.\":\"恭喜您讀完了！\",\"CLOSE WINDOW\":\"關閉視窗\"}}')\n  delete Component.options._Ctor\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"img[data-v-6bbe48c7] {\\n  width: 100px;\\n}\\n.firework-overlay[data-v-6bbe48c7] {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100vw;\\n  height: 100vh;\\n  z-index: 999;\\n  background-color: #000000;\\n}\\n.firework-overlay .firework-container[data-v-6bbe48c7] {\\n  width: 100vw;\\n  height: calc(100vh - 17em);\\n  margin-top: 17em;\\n  text-align: center;\\n}\\n.firework-overlay .firework-container[data-v-6bbe48c7]  #fireworksField {\\n  top: auto !important;\\n  bottom: 0;\\n  width: 80vw !important;\\n  height: auto !important;\\n  position: static !important;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"Exit.less?vue&type=style&index=0&id=6bbe48c7&lang=less&scoped=true&\"],\"names\":[],\"mappings\":\"AAAA;EACE,YAAY;AACd;AACA;EACE,eAAe;EACf,MAAM;EACN,OAAO;EACP,YAAY;EACZ,aAAa;EACb,YAAY;EACZ,yBAAyB;AAC3B;AACA;EACE,YAAY;EACZ,0BAA0B;EAC1B,gBAAgB;EAChB,kBAAkB;AACpB;AACA;EACE,oBAAoB;EACpB,SAAS;EACT,sBAAsB;EACtB,uBAAuB;EACvB,2BAA2B;AAC7B\",\"file\":\"Exit.less?vue&type=style&index=0&id=6bbe48c7&lang=less&scoped=true&\",\"sourcesContent\":[\"img[data-v-6bbe48c7] {\\n  width: 100px;\\n}\\n.firework-overlay[data-v-6bbe48c7] {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100vw;\\n  height: 100vh;\\n  z-index: 999;\\n  background-color: #000000;\\n}\\n.firework-overlay .firework-container[data-v-6bbe48c7] {\\n  width: 100vw;\\n  height: calc(100vh - 17em);\\n  margin-top: 17em;\\n  text-align: center;\\n}\\n.firework-overlay .firework-container[data-v-6bbe48c7]  #fireworksField {\\n  top: auto !important;\\n  bottom: 0;\\n  width: 80vw !important;\\n  height: auto !important;\\n  position: static !important;\\n}\\n\"]}]);\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"Exit\" },\n    [\n      _c(\"modal\", {\n        ref: \"ExitModal\",\n        staticClass: \"ExitModal\",\n        attrs: {\n          config: _vm.config,\n          status: _vm.status,\n          progress: _vm.progress,\n          lib: _vm.lib,\n          dimmer: \"transparent\",\n          cancelable: \"false\"\n        },\n        scopedSlots: _vm._u([\n          {\n            key: \"header\",\n            fn: function() {\n              return [\n                _vm._v(\n                  \"\\r\\n      \" +\n                    _vm._s(_vm.$t(\"Thank you for your reading\")) +\n                    \"\\r\\n    \"\n                )\n              ]\n            },\n            proxy: true\n          },\n          {\n            key: \"content\",\n            fn: function() {\n              return [\n                _c(\"div\", { staticClass: \"ui middle aligned grid\" }, [\n                  _c(\"div\", { staticClass: \"four wide column\" }, [\n                    _c(\"img\", {\n                      staticClass: \"ui image\",\n                      attrs: { src: _vm.status.avatar }\n                    })\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"twelve wide column\" }, [\n                    _c(\"h1\", { staticClass: \"ui header\" }, [\n                      _vm._v(\n                        \"\\r\\n            \" +\n                          _vm._s(\n                            _vm.$t(\"Congratulation! You finished reading.\")\n                          ) +\n                          \"\\r\\n          \"\n                      )\n                    ])\n                  ])\n                ])\n              ]\n            },\n            proxy: true\n          },\n          {\n            key: \"actions\",\n            fn: function() {\n              return [\n                _c(\n                  \"div\",\n                  { staticClass: \"ui button\", on: { click: _vm.logout } },\n                  [_vm._v(_vm._s(_vm.$t(\"LOGOUT\")))]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  { staticClass: \"ui button\", on: { click: _vm.exit } },\n                  [_vm._v(_vm._s(_vm.$t(\"CLOSE WINDOW\")))]\n                )\n              ]\n            },\n            proxy: true\n          }\n        ])\n      }),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"firework-overlay\" }, [\n        _c(\"div\", { ref: \"FireworkOverlay\", staticClass: \"firework-container\" })\n      ])\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js?sourceMap!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??ref--1-2!./Exit.less?vue&type=style&index=0&id=6bbe48c7&lang=less&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"09b7b37b\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js?sourceMap!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??ref--1-2!./Exit.less?vue&type=style&index=0&id=6bbe48c7&lang=less&scoped=true&\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js?sourceMap!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??ref--1-2!./Exit.less?vue&type=style&index=0&id=6bbe48c7&lang=less&scoped=true&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./Exit.html?vue&type=template&id=6bbe48c7&scoped=true&\"","import mod from \"-!./Exit.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!./Exit.js?vue&type=script&lang=js&\"","import './jquery.fireworks/jquery.fireworks.mute.js'\nimport $ from 'jquery'\n\nlet Exit = {\n  props: ['lib', 'status', 'config', 'progress', 'error', 'view'],\n  data() {    \n    this.$i18n.locale = this.config.locale\n    return {\n    }\n  },\n//  components: {\n//  },\n//  computed: {\n//  },\n//  watch: {\n//  },\n  mounted() {\n    this.$refs.ExitModal.show()\n    this.startFirework()\n  },\n  methods: {\n    logout: async function () {\n      \n      this.$refs.ExitModal.hide()\n      this.lib.auth.logout()\n    },\n    exit: async function () {\n      await this.lib.AxiosHelper.get('/client/auth/logout')\n      window.close()\n    },\n    startFirework: async function () {\n      //await this.lib.VueHelper.sleep(1000)\n      //console.log('startFirework')\n      //$('.non-invasive-web-style-framework .ui.dimmer .niwsf-overlay:first').fireworks({ \n      $(this.$refs.FireworkOverlay).fireworks({ \n        //sound: true, \n        opacity: 0.9, \n        //width: '100%', \n        //height: '300px'\n      });\n    } \n  } // methods\n}\n\nexport default Exit","import mod from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js?sourceMap!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??ref--1-2!./Exit.less?vue&type=style&index=0&id=6bbe48c7&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js?sourceMap!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??ref--1-2!./Exit.less?vue&type=style&index=0&id=6bbe48c7&lang=less&scoped=true&\"","import { render, staticRenderFns } from \"./Exit.html?vue&type=template&id=6bbe48c7&scoped=true&\"\nimport script from \"./Exit.js?vue&type=script&lang=js&\"\nexport * from \"./Exit.js?vue&type=script&lang=js&\"\nimport style0 from \"./Exit.less?vue&type=style&index=0&id=6bbe48c7&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6bbe48c7\",\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./Exit.yaml?vue&type=custom&index=0&blockType=i18n&issuerPath=D%3A%5Cxampp%5Chtdocs%5Cprojects-nodejs%5CPACOR%5Cwebpack-app%5Cclient%5CExit%5CExit.vue&lang=yaml\"\nif (typeof block0 === 'function') block0(component)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\xampp\\\\htdocs\\\\projects-nodejs\\\\PACOR\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('6bbe48c7')) {\n      api.createRecord('6bbe48c7', component.options)\n    } else {\n      api.reload('6bbe48c7', component.options)\n    }\n    module.hot.accept(\"./Exit.html?vue&type=template&id=6bbe48c7&scoped=true&\", function () {\n      api.rerender('6bbe48c7', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"webpack-app/client/Exit/Exit.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./Exit.yaml?vue&type=custom&index=0&blockType=i18n&issuerPath=D%3A%5Cxampp%5Chtdocs%5Cprojects-nodejs%5CPACOR%5Cwebpack-app%5Cclient%5CExit%5CExit.vue&lang=yaml\"; export default mod; export * from \"-!../../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./Exit.yaml?vue&type=custom&index=0&blockType=i18n&issuerPath=D%3A%5Cxampp%5Chtdocs%5Cprojects-nodejs%5CPACOR%5Cwebpack-app%5Cclient%5CExit%5CExit.vue&lang=yaml\"","import jQuery from 'jquery'\n\n(function ($) {\n\t$.fn.fireworks = function(options) {\n    // set the defaults\n\t\toptions = options || {};\n\n    //options.sound = options.sound || false;\n    options.sound = false\n\t\toptions.opacity = options.opacity || 1;\n\t\toptions.width = options.width || $(this).width();\n\t\toptions.height = options.height || $(this).height();\n\n    var fireworksField = this,\n        particles = [],\n        rockets = [],\n        MAX_PARTICLES = 400,\n        SCREEN_WIDTH = options.width,\n        SCREEN_HEIGHT = options.height;\n\n    // cache the sounds if the plugin has been configured to use soudns\n    var sounds = [], audio;\n    if (options.sound) {\n\n      audio = document.createElement('audio');\n    }\n\n    // create canvas and get the context\n    var canvas = document.createElement('canvas');\n    canvas.id = 'fireworksField';\n\t\tcanvas.width = SCREEN_WIDTH;\n\t\tcanvas.height = SCREEN_HEIGHT;\n\t\tcanvas.style.width  = SCREEN_WIDTH + 'px';\n\t\tcanvas.style.height = SCREEN_HEIGHT + 'px';\n\t\tcanvas.style.position = 'absolute';\n\t\tcanvas.style.top = '0px';\n\t\tcanvas.style.left = '0px';\n    canvas.style.opacity = options.opacity;\n    var context = canvas.getContext('2d');\n\n    // The Particles Object\n    function Particle(pos) {\n        this.pos = {\n            x: pos ? pos.x : 0,\n            y: pos ? pos.y : 0\n        };\n        this.vel = {\n            x: 0,\n            y: 0\n        };\n        this.shrink = 0.97;\n        this.size = 2;\n\n        this.resistance = 1;\n        this.gravity = 0;\n\n        this.flick = false;\n\n        this.alpha = 1;\n        this.fade = 0;\n        this.color = 0;\n    }\n\n    Particle.prototype.update = function() {\n        // apply resistance\n        this.vel.x *= this.resistance;\n        this.vel.y *= this.resistance;\n\n        // gravity down\n        this.vel.y += this.gravity;\n\n        // update position based on speed\n        this.pos.x += this.vel.x;\n        this.pos.y += this.vel.y;\n\n        // shrink\n        this.size *= this.shrink;\n\n        // fade out\n        this.alpha -= this.fade;\n    };\n\n    Particle.prototype.render = function(c) {\n        if (!this.exists()) {\n            return;\n        }\n\n        c.save();\n\n        c.globalCompositeOperation = 'lighter';\n\n        var x = this.pos.x,\n            y = this.pos.y,\n            r = this.size / 2;\n\n        var gradient = c.createRadialGradient(x, y, 0.1, x, y, r);\n        gradient.addColorStop(0.1, \"rgba(255,255,255,\" + this.alpha + \")\");\n        gradient.addColorStop(0.8, \"hsla(\" + this.color + \", 100%, 50%, \" + this.alpha + \")\");\n        gradient.addColorStop(1, \"hsla(\" + this.color + \", 100%, 50%, 0.1)\");\n\n        c.fillStyle = gradient;\n\n        c.beginPath();\n        c.arc(this.pos.x, this.pos.y, this.flick ? Math.random() * this.size : this.size, 0, Math.PI * 2, true);\n        c.closePath();\n        c.fill();\n\n        c.restore();\n    };\n\n    Particle.prototype.exists = function() {\n        return this.alpha >= 0.1 && this.size >= 1;\n    };\n\n    // The Rocket Object\n    function Rocket(x) {\n        Particle.apply(this, [{\n            x: x,\n            y: SCREEN_HEIGHT}]);\n\n        this.explosionColor = 0;\n    }\n\n    Rocket.prototype = new Particle();\n    Rocket.prototype.constructor = Rocket;\n\n    Rocket.prototype.explode = function() {\n        if (options.sound) {\n          var randomNumber = function (min, max) {\n            min = Math.ceil(min);\n            max = Math.floor(max);\n            return Math.floor(Math.random() * (max - min + 1)) + min;\n          }(0, 2);\n          audio.src = sounds[randomNumber].prefix + sounds[randomNumber].data;\n          audio.play();\n        }\n\n        var count = Math.random() * 10 + 80;\n\n        for (var i = 0; i < count; i++) {\n            var particle = new Particle(this.pos);\n            var angle = Math.random() * Math.PI * 2;\n\n            // emulate 3D effect by using cosine and put more particles in the middle\n            var speed = Math.cos(Math.random() * Math.PI / 2) * 15;\n\n            particle.vel.x = Math.cos(angle) * speed;\n            particle.vel.y = Math.sin(angle) * speed;\n\n            particle.size = 10;\n\n            particle.gravity = 0.2;\n            particle.resistance = 0.92;\n            particle.shrink = Math.random() * 0.05 + 0.93;\n\n            particle.flick = true;\n            particle.color = this.explosionColor;\n\n            particles.push(particle);\n        }\n    };\n\n    Rocket.prototype.render = function(c) {\n        if (!this.exists()) {\n            return;\n        }\n\n        c.save();\n\n        c.globalCompositeOperation = 'lighter';\n\n        var x = this.pos.x,\n            y = this.pos.y,\n            r = this.size / 2;\n\n        var gradient = c.createRadialGradient(x, y, 0.1, x, y, r);\n        gradient.addColorStop(0.1, \"rgba(255, 255, 255 ,\" + this.alpha + \")\");\n        gradient.addColorStop(1, \"rgba(0, 0, 0, \" + this.alpha + \")\");\n\n        c.fillStyle = gradient;\n\n        c.beginPath();\n        c.arc(this.pos.x, this.pos.y, this.flick ? Math.random() * this.size / 2 + this.size / 2 : this.size, 0, Math.PI * 2, true);\n        c.closePath();\n        c.fill();\n\n        c.restore();\n    };\n\n    var loop = function() {\n        // update screen size\n        if (SCREEN_WIDTH != window.innerWidth) {\n            canvas.width = SCREEN_WIDTH = window.innerWidth;\n        }\n        if (SCREEN_HEIGHT != window.innerHeight) {\n            canvas.height = SCREEN_HEIGHT = window.innerHeight;\n        }\n\n        // clear canvas\n        context.fillStyle = \"rgba(0, 0, 0, 0.05)\";\n        context.fillRect(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);\n\n        var existingRockets = [];\n\n        for (var i = 0; i < rockets.length; i++) {\n            // update and render\n            rockets[i].update();\n            rockets[i].render(context);\n\n            // calculate distance with Pythagoras\n            var distance = Math.sqrt(Math.pow(SCREEN_WIDTH - rockets[i].pos.x, 2) + Math.pow(SCREEN_HEIGHT - rockets[i].pos.y, 2));\n\n            // random chance of 1% if rockets is above the middle\n            var randomChance = rockets[i].pos.y < (SCREEN_HEIGHT * 2 / 3) ? (Math.random() * 100 <= 1) : false;\n\n            /* Explosion rules\n                 - 80% of screen\n                - going down\n                - close to the mouse\n                - 1% chance of random explosion\n            */\n            if (rockets[i].pos.y < SCREEN_HEIGHT / 5 || rockets[i].vel.y >= 0 || distance < 50 || randomChance) {\n                rockets[i].explode();\n            } else {\n                existingRockets.push(rockets[i]);\n            }\n        }\n\n        rockets = existingRockets;\n\n        var existingParticles = [];\n\n        for (i = 0; i < particles.length; i++) {\n            particles[i].update();\n\n            // render and save particles that can be rendered\n            if (particles[i].exists()) {\n                particles[i].render(context);\n                existingParticles.push(particles[i]);\n            }\n        }\n\n        // update array with existing particles - old particles should be garbage collected\n        particles = existingParticles;\n\n        while (particles.length > MAX_PARTICLES) {\n            particles.shift();\n        }\n    };\n\n    var launchFrom = function(x) {\n        if (rockets.length < 10) {\n            var rocket = new Rocket(x);\n            rocket.explosionColor = Math.floor(Math.random() * 360 / 10) * 10;\n            rocket.vel.y = Math.random() * -3 - 4;\n            rocket.vel.x = Math.random() * 6 - 3;\n            rocket.size = 8;\n            rocket.shrink = 0.999;\n            rocket.gravity = 0.01;\n            rockets.push(rocket);\n        }\n    };\n\n    var launch = function() {\n        launchFrom(SCREEN_WIDTH / 2);\n    };\n\n    // Append the canvas and start the loops\n    $(fireworksField).append(canvas);\n    setInterval(launch, 800);\n    setInterval(loop, 1000 / 50);\n\n    return fireworksField;\n  };\n}(jQuery));\n"],"sourceRoot":""}