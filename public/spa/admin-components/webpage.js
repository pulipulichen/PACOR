(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{438:function(t,e,a){var i=a(672);"string"==typeof i&&(i=[[t.i,i,""]]);var s={insert:"head",singleton:!1};a(7)(i,s);i.locals&&(t.exports=i.locals)},439:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"Admins":"Admin | Admins","Webpages":"Webpage | Webpages"},"zh-TW":{"Title":"標題"}}'),delete t.options._Ctor}},440:function(t,e,a){var i=a(675);"string"==typeof i&&(i=[[t.i,i,""]]);var s={insert:"head",singleton:!1};a(7)(i,s);i.locals&&(t.exports=i.locals)},441:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{},"zh-TW":{}}'),delete t.options._Ctor}},442:function(t,e,a){var i=a(678);"string"==typeof i&&(i=[[t.i,i,""]]);var s={insert:"head",singleton:!1};a(7)(i,s);i.locals&&(t.exports=i.locals)},443:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{},"zh-TW":{}}'),delete t.options._Ctor}},671:function(t,e,a){"use strict";var i=a(438);a.n(i).a},672:function(t,e,a){(t.exports=a(6)(!1)).push([t.i,".sub-navigation a.active[data-v-bd87680a]{pointer-events:none}",""])},673:function(t,e,a){"use strict";var i=a(439),s=a.n(i);e.default=s.a},674:function(t,e,a){"use strict";var i=a(440);a.n(i).a},675:function(t,e,a){(t.exports=a(6)(!1)).push([t.i,"",""])},676:function(t,e,a){"use strict";var i=a(441),s=a.n(i);e.default=s.a},677:function(t,e,a){"use strict";var i=a(442);a.n(i).a},678:function(t,e,a){(t.exports=a(6)(!1)).push([t.i,"",""])},679:function(t,e,a){"use strict";var i=a(443),s=a.n(i);e.default=s.a},720:function(t,e,a){"use strict";a.r(e);function i(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui form"},[a("div",{staticClass:"ui secondary menu"},["global_admin"===t.status.role?a("a",{staticClass:"icon item",attrs:{href:"#/domain/list"}},[a("i",{staticClass:"angle left icon"})]):t._e(),t._v(" "),a("div",{staticClass:"item header"},[a("h2",[t._v(t._s(t.status.title))])]),t._v(" "),a("div",{staticClass:"right menu"},[a("a",{staticClass:"ui item",class:{"active disabled":"list"===t.$route.params.action},attrs:{href:"#/webpage/"+t.$route.params.domainID+"/list/"}},[a("i",{staticClass:"list icon"}),t._v("\r\n          "+t._s(t.$t("List"))+"\r\n        ")]),t._v(" "),a("a",{staticClass:"ui item",class:{"active disabled":"add"===t.$route.params.action},attrs:{href:"#/webpage/"+t.$route.params.domainID+"/add"}},[a("i",{staticClass:"plus icon"}),t._v("\r\n          "+t._s(t.$t("Add"))+"\r\n        ")]),t._v(" "),a("a",{staticClass:"ui item",attrs:{href:"/admin/Database/admin?table=webpages",target:"_blank"}},[a("i",{staticClass:"database icon"}),t._v("\r\n          "+t._s(t.$t("Database"))+"\r\n        ")])])]),t._v(" "),a(t.componentView,{tag:"component",attrs:{config:t.config,status:t.status,progress:t.progress,lib:t.lib}})],1)}function s(){var i=this,t=i.$createElement,s=i._self._c||t;return s("div",{staticClass:"ui form"},[s("pagination",{attrs:{pageConfig:i.pageConfig}}),i._v(" "),s("table",{staticClass:"ui unstackable table"},[s("thead",[s("tr",[s("th",{staticClass:"center aligned"},[i._v("\r\n          "+i._s(i.$t("Path"))+"\r\n        ")]),i._v(" "),s("th",{staticClass:"center aligned"},[i._v("\r\n          "+i._s(i.$t("Title"))+"\r\n        ")]),i._v(" "),s("th",{staticClass:"center aligned"},[i._v("\r\n          "+i._s(i.$t("Config"))+"\r\n        ")]),i._v(" "),s("th",{staticClass:"center aligned"},[i._v("\r\n          "+i._s(i.$t("Group"))+"\r\n        ")]),i._v(" "),s("th",{staticClass:"center aligned"},[i._v("\r\n          "+i._s(i.$t("Dashboard"))+"\r\n        ")])])]),i._v(" "),s("tbody",i._l(i.webpages,function(e,a){return s("tr",[s("td",[s("a",{attrs:{href:e.url,target:"_blank"}},[i._v("\r\n              "+i._s(e.path)+"\r\n          ")])]),i._v(" "),s("td",{staticClass:"field",class:{error:""===e.title}},[s("div",{staticClass:"ui action input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"webpage.title"}],attrs:{type:"text"},domProps:{value:e.title},on:{input:[function(t){t.target.composing||i.$set(e,"title",t.target.value)},function(t){e.isChanged=!0}]}}),i._v(" "),s("button",{staticClass:"ui icon button",class:{disabled:!(!0===e.isChanged&&""!==e.title)},attrs:{type:"button"},on:{click:function(t){return i.editTitle(e,a)}}},[s("i",{staticClass:"edit icon"})])])]),i._v(" "),s("td",{staticClass:"center aligned"},[s("webpage-config-editor",{attrs:{config:i.config,status:i.status,lib:i.lib,webpage:e},on:{change:function(t){e=t}}})],1),i._v(" "),s("td",{staticClass:"center aligned"},[s("webpage-group-editor",{attrs:{config:i.config,status:i.status,lib:i.lib,webpage:e},on:{change:function(t){e=t}}})],1),i._v(" "),s("td",{staticClass:"center aligned"},[s("a",{staticClass:"ui icon button",attrs:{href:"#/webpage-dashboard/"+e.id}},[s("i",{staticClass:"chart bar icon"})])])])}),0)]),i._v(" "),s("pagination",{attrs:{pageConfig:i.pageConfig}})],1)}s._withStripped=i._withStripped=!0;var n,o,r=a(0),p=a.n(r),u=a(4),l=a.n(u),d=a(1),c=a.n(d),g={props:["lib","status","config","progress","error","view"],data:function(){return this.$i18n.locale=this.config.locale,{domain:"",webpages:[],editingGroups:{},editingConfig:{},pageConfig:{page:0,maxPage:0}}},components:{},computed:{"pageConfig.page":function(){if(!1===isNaN(this.pageConfig.page)){var t=this.$route.params.page;!0!==isNaN(t)&&parseInt(t,10)===this.pageConfig.page||(this.$router.push("/webpage/list/"+this.pageConfig.page),localStorage.setItem("WebpageList.pageConfig.page",this.pageConfig.page),this.list())}}},watch:{"status.domain":function(){var t=this.$t("Webpage Management");""!==this.status.domain&&(t=t+"("+this.status.domain+")"),this.status.title=t}},mounted:function(){this.initPage(),this.initTitle(),this.list()},methods:{initTitle:function(){var t=this.$t("Webpage Management");void 0!==this.status.domain&&""!==this.status.domain&&(t=t+" ("+this.status.domain+")"),this.status.title=t},initPage:function(){if(!0===isNaN(this.$route.params.page)){var t=localStorage.getItem("WebpageList.pageConfig.page");!1===isNaN(t)&&null!==t?this.pageConfig.page=t:this.pageConfig.page=1}else this.pageConfig.page=parseInt(this.$route.params.page,10)},list:(o=c()(p.a.mark(function t(){var e,a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===(e=this.$route.params.domainID))return t.abrupt("return",!1);t.next=5;break;case 5:e=parseInt(e,10);case 6:return t.next=8,this.lib.AxiosHelper.get("/Admin/Webpage/list",{domainID:e,page:this.pageConfig.page});case 8:if(a=t.sent,"object"!==l()(a)){t.next=17;break}if(!Array.isArray(a.webpages)){t.next=15;break}if(0===a.webpages.length)return 1!==this.pageConfig.page&&(this.pageConfig.page=1),t.abrupt("return",!1);t.next=14;break;case 14:this.webpages=a.webpages;case 15:"string"==typeof a.domain&&(this.status.domain=a.domain),"number"==typeof a.maxPage&&(this.pageConfig.maxPage=a.maxPage);case 17:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)}),editTitle:(n=c()(p.a.mark(function t(e,a){var i;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={id:e.id,title:e.title},t.next=3,this.lib.AxiosHelper.post("/Admin/Webpage/editTitle",i);case 3:this.webpages[a].isChanged=!1,this.$forceUpdate();case 5:case"end":return t.stop()}},t,this)})),function(t,e){return n.apply(this,arguments)})}},f=(a(671),a(2)),h=a(673),m=Object(f.a)(g,s,[],!1,null,"bd87680a",null);"function"==typeof h.default&&Object(h.default)(m),m.options.__file="webpack-app/admin/Webpage/WebpageList/WebpageList.vue";function v(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui form"},[a("div",{staticClass:"three fields"},[a("div",{staticClass:"seven wide field",class:{error:!e.addInput.url.startsWith("http")}},[a("label",{attrs:{for:"addInputURL"}},[e._v("\r\n        "+e._s(e.$t("Webpage URL (start from http:// or https:// )"))+"\r\n      ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addInput.url,expression:"addInput.url"}],attrs:{type:"text",id:"addInputURL",size:"256",name:"addInputURL"},domProps:{value:e.addInput.url},on:{input:function(t){t.target.composing||e.$set(e.addInput,"url",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"seven wide field"},[a("label",{attrs:{for:"addInputTitle"}},[e._v("\r\n        "+e._s(e.$t("Title"))+"\r\n      ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addInput.title,expression:"addInput.title"}],attrs:{type:"text",id:"addInputTitle",size:"256",name:"addInputTitle"},domProps:{value:e.addInput.title},on:{input:function(t){t.target.composing||e.$set(e.addInput,"title",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"two wide field"},[a("label",[e._v("\r\n         \r\n      ")]),e._v(" "),a("button",{staticClass:"ui fluid button",class:{disabled:!e.enableAdd},attrs:{type:"button"},on:{click:e.addSubmit}},[e._v("\r\n        "+e._s(e.$t("SUBMIT"))+"\r\n      ")])])]),e._v(" "),a("div",{staticClass:"two fields"},[a("div",{staticClass:"field",class:{error:!e.configIsJSON}},[a("label",{attrs:{for:"addInputConfig"}},[e._v("\r\n      "+e._s(e.$t("Config"))+"\r\n      ("+e._s(e.$t("JSON Format"))+"\r\n      "),a("a",{attrs:{href:"https://github.com/pulipulichen/PACOR/blob/master/help/ConfigExample.md",target:"_blank"}},[e._v(e._s(e.$t("Example")))]),e._v(")\r\n    ")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.addInput.config,expression:"addInput.config"}],staticClass:"ui red",attrs:{id:"addInputConfig",name:"addInputConfig"},domProps:{value:e.addInput.config},on:{input:function(t){t.target.composing||e.$set(e.addInput,"config",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"field",class:{error:!e.configIsJSON}},[a("label",{attrs:{for:"addInputConfig"}},[e._v("\r\n      "+e._s(e.$t("Groups"))+"\r\n      ("+e._s(e.$t("each group per line. Readers in group is splited by space"))+"\r\n       "),a("a",{attrs:{href:"https://github.com/pulipulichen/PACOR/blob/master/help/GroupsExample.md",target:"_blank"}},[e._v(e._s(e.$t("Example")))]),e._v(")\r\n    ")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.addInput.groups,expression:"addInput.groups"}],staticClass:"ui red",attrs:{id:"addInputGroups",name:"addInputGroups"},domProps:{value:e.addInput.groups},on:{input:function(t){t.target.composing||e.$set(e.addInput,"groups",t.target.value)}}})])])])}var b=m.exports;v._withStripped=!0;var _,C={props:["lib","status","config","progress","error","view"],data:function(){return this.$i18n.locale=this.config.locale,{addInput:{url:"http://pc.pulipuli.info/test",title:"",groups:"",config:""}}},components:{},computed:{enableAdd:function(){return this.lib.ValidateHelper.isURL(this.addInput.url)&&(""===this.addInput.config||this.lib.ValidateHelper.isJSON(this.addInput.config))},configIsJSON:function(){return""===this.addInput.config||this.lib.ValidateHelper.isJSON(this.addInput.config)}},watch:{},mounted:function(){this.initTitle()},methods:{initTitle:function(){var t=this.$t("Webpage Add");void 0!==this.status.domain&&""!==this.status.domain&&(t=t+" ("+this.status.domain+")"),this.status.title=t},addSubmit:(_=c()(p.a.mark(function t(){var e,a,i,s;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=JSON.parse(JSON.stringify(this.addInput)),this.$route.params.domainID,a={url:e.url},""!==e.title&&(a.title=e.title),void 0!==e.groups&&""!==e.groups&&(i=[],e.groups.trim().split("\n").forEach(function(t){var e=t.trim().split(" ").filter(function(t){return""!==t});0<e.length&&i.push(e)}),0<i.length&&(a.groups=i)),""!==e.config)try{a.config=JSON.parse(a.config)}catch(t){}return t.next=8,this.lib.AxiosHelper.post("/admin/Webpage/add",a);case 8:"number"==typeof(s=t.sent)&&this.$router.push("/webpage/"+s+"/list");case 10:case"end":return t.stop()}},t,this)})),function(){return _.apply(this,arguments)})}},w=(a(674),a(676)),I=Object(f.a)(C,v,[],!1,null,"99b71892",null);"function"==typeof w.default&&Object(w.default)(I),I.options.__file="webpack-app/admin/Webpage/WebpageAdd/WebpageAdd.vue";var $=I.exports,x={props:["lib","status","config","progress","error","view"],data:function(){return this.$i18n.locale=this.config.locale,{title:this.$t("Webpage"),componentView:null}},components:{},computed:{},watch:{"$route.params.action":function(){this.switchCompnent(this.$route.params.action)}},mounted:function(){!0===isNaN(this.$route.params.domainID)&&this.$router.replace("/webpage/".concat(this.status.domainID,"/list")),this.switchCompnent(this.$route.params.action)},methods:{switchCompnent:function(t){switch(t){case"list":this.componentView=b;break;case"add":this.componentView=$}}}},W=(a(677),a(679)),y=Object(f.a)(x,i,[],!1,null,"71d84ecb",null);"function"==typeof W.default&&Object(W.default)(y),y.options.__file="webpack-app/admin/Webpage/Webpage.vue";e.default=y.exports}}]);