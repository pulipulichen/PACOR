{"version":3,"sources":["webpack:///./webpack-app/admin/Material/Material.json","webpack:///./webpack-app/admin/Material/Material.less","webpack:///./webpack-app/admin/Material/Material.html?5479","webpack:///./webpack-app/admin/Material/Material.less?10dc","webpack:///./webpack-app/admin/Material/Material.html","webpack:///./webpack-app/admin/Material/Material.js","webpack:///./webpack-app/admin/Material/Material.js?660f","webpack:///./webpack-app/admin/Material/Material.json?0e71","webpack:///./webpack-app/admin/Material/Material.less?358f","webpack:///./webpack-app/admin/Material/Material.vue"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA,kCAAkC,MAAM,yBAAyB,EAAE,4BAA4B,EAAE,GAAG,UAAU,yBAAyB,EAAE,WAAW,EAAE,KAAK;AAC3J;AACA;;;;;;;;;;;;ACJA,2BAA2B,mBAAO,CAAC,2GAAsD;AACzF;AACA,cAAc,QAAS,2BAA2B,kBAAkB,GAAG,SAAS,8HAA8H,UAAU,kIAAkI,kBAAkB,GAAG,KAAK;;;;;;;;;;;;;ACFpX;AAAA;AAAA;AAAA,0BAA0B,aAAa,0BAA0B,wBAAwB,iBAAiB,8BAA8B,iFAAiF,yBAAyB,YAAY,uCAAuC,YAAY,oBAAoB,cAAc,OAAO,sBAAsB,oGAAoG,aAAa,0EAA0E,SAAS,oEAAoE,WAAW,uBAAuB,KAAK,yBAAyB,4BAA4B,QAAQ,EAAE,mCAAmC,0BAA0B,oBAAoB,cAAc,OAAO,uBAAuB,2EAA2E,OAAO,0CAA0C,sGAAsG,uBAAuB,qFAAqF,KAAK,gCAAgC,0BAA0B,oBAAoB,+EAA+E,qCAAqC,4BAA4B,QAAQ,gBAAgB,KAAK,oBAAoB,mGAAmG,gDAAgD,yCAAyC,KAAK,yBAAyB,+BAA+B,OAAO,6BAA6B,0BAA0B,mCAAmC,keAAke,wKAAwK,8BAA8B,cAAc,aAAa,kFAAkF,SAAS,cAAc,WAAW,yBAAyB,KAAK,0BAA0B,4BAA4B,QAAQ,EAAE,iDAAiD,kBAAkB,4BAA4B,GAAG,2BAA2B,oCAAoC,6EAA6E,QAAQ,gBAAgB,KAAK,yBAAyB,yBAAyB,UAAU,wBAAwB,yHAAyH,uCAAuC,YAAY,oBAAoB,UAAU,oCAAoC,8DAA8D,UAAU,2BAA2B,4BAA4B,oBAAoB,eAAe,oCAAoC,gBAAgB,KAAK,yBAAyB,yCAAyC,UAAU,0BAA0B,4BAA4B,oBAAoB,eAAe,oCAAoC,gBAAgB,KAAK,yBAAyB,2BAA2B,UAAU,yBAAyB,YAAY,oCAAoC,OAAO,wDAAwD;AACx3H;;;;;;;;;;;;;ACDA;;AAEA;AACA,cAAc,mBAAO,CAAC,wfAA4P;AAClR,4CAA4C,QAAS;AACrD;AACA;AACA,UAAU,mBAAO,CAAC,6HAAgE;AAClF,8CAA8C,E;;;;;;;;;;;;ACR9C;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AACA;AACA,U;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,qBAAqB;AAC/D;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,qBAAqB,wBAAwB;AAC7C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,qBAAqB,wBAAwB;AAC7C;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA,4DAA4D,EAAE;AAC9D;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEe,uE;;;;;;;;;;;;AClMf;AAAA;AAAA,wCAA2D,CAAgB,4IAAG,EAAC,C;;;;;;;;;;;;ACA/E;AAAA;AAAA;AAAA;AAAkP,CAAgB,wTAAG,EAAC,C;;;;;;;;;;;;ACAtQ;AAAA;AAAA;AAAA;AAA6T,CAAgB,uWAAG,EAAC,C;;;;;;;;;;;;ACAjV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoG;AACzC;AACL;AACwC;;;AAG9F;AAC6F;AAC7F,gBAAgB,2GAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACsL;AACtL,WAAW,wMAAM,iBAAiB,gNAAM;;AAEzB,gF","file":"admin-components/material.js","sourcesContent":["module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"en\":{\"Are you sure to remove {0}?\":\"Are you sure to remove {0}?\"},\"zh-TW\":{\"Are you sure to remove {0}?\":\"你確定要刪除{0}嗎？\"}}')\n  delete Component.options._Ctor\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \".hide[data-v-6572598a] {\\n  display: none;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"Material.less?vue&type=style&index=0&id=6572598a&lang=less&scoped=true&\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;AACf\",\"file\":\"Material.less?vue&type=style&index=0&id=6572598a&lang=less&scoped=true&\",\"sourcesContent\":[\".hide[data-v-6572598a] {\\n  display: none;\\n}\\n\"]}]);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ui segment form\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('Material Management')))]),_vm._v(\" \"),_c('div',{staticClass:\"ui segment\"},[_c('div',{staticClass:\"unstackable three fields\"},[_c('div',{staticClass:\"field\"},[_c('label',{attrs:{\"for\":\"MaterialName\"}},[_vm._v(\"\\r\\n          \"+_vm._s(_vm.$t('Material Name'))+\"\\r\\n        \")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filename),expression:\"filename\"}],attrs:{\"type\":\"text\",\"id\":\"MaterialName\",\"size\":\"20\",\"name\":\"MaterialName\"},domProps:{\"value\":(_vm.filename)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.filename=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"field\"},[_c('label',{attrs:{\"for\":\"MaterialAsset\"}},[_vm._v(\"\\r\\n          \"+_vm._s(_vm.$t('File'))+\"\\r\\n          \"),_c('a',{attrs:{\"href\":\"/materials/example-material.zip\"}},[_vm._v(\"\\r\\n            (\"+_vm._s(_vm.$t('example'))+\")\\r\\n          \")])]),_vm._v(\" \"),_c('input',{ref:\"FileInput\",attrs:{\"type\":\"file\",\"id\":\"MaterialAsset\",\"name\":\"MaterialAsset\",\"accept\":\"application/zip\"},on:{\"change\":_vm.checkEnableUpload}})]),_vm._v(\" \"),_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"\\r\\n           \\r\\n        \")]),_vm._v(\" \"),_c('button',{staticClass:\"ui fluid button\",class:{disabled: !_vm.enableUpload},attrs:{\"type\":\"button\"},on:{\"click\":_vm.upload}},[_vm._v(\"\\r\\n          \"+_vm._s(_vm.$t('UPLOAD'))+\"\\r\\n        \")])])])]),_vm._v(\" \"),_c('input',{ref:\"EditUploadInput\",staticClass:\"hide\",attrs:{\"type\":\"file\",\"accept\":\"application/zip\"},on:{\"change\":_vm.editUpload}}),_vm._v(\" \"),_c('pagination',{attrs:{\"pageConfig\":_vm.pageConfig}}),_vm._v(\" \"),_c('table',{staticClass:\"ui unstackable table\"},[_c('thead',[_c('tr',[(_vm.status.role === 'global_admin')?_c('th',[_vm._v(\"\\r\\n          \"+_vm._s(_vm.$t('Domain'))+\"\\r\\n        \")]):_vm._e(),_vm._v(\" \"),_c('th',[_vm._v(\"\\r\\n          \"+_vm._s(_vm.$t('Filename'))+\"\\r\\n        \")]),_vm._v(\" \"),_c('th',[_vm._v(\"\\r\\n          \"+_vm._s(_vm.$t('Date'))+\"\\r\\n        \")]),_vm._v(\" \"),_c('th',[_vm._v(\"\\r\\n          \"+_vm._s(_vm.$t('Management'))+\"\\r\\n        \")])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.assets),function(asset,index){return _c('tr',[(_vm.status.role === 'global_admin')?_c('td',[_vm._v(\"\\r\\n          \"+_vm._s(asset.domain_id)+\"\\r\\n        \")]):_vm._e(),_vm._v(\" \"),_c('td',[_c('div',{staticClass:\"ui action input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(asset.filename),expression:\"asset.filename\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(asset.filename)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(asset, \"filename\", $event.target.value)},function($event){return _vm.change(asset.id)}]}}),_vm._v(\" \"),_c('button',{staticClass:\"ui icon button\",class:{disabled: !_vm.isAssetChanged(asset.id), green: _vm.isAssetChanged(asset.id)},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.edit(index)}}},[_c('i',{staticClass:\"edit icon\"})])])]),_vm._v(\" \"),_c('td',[_vm._v(\"\\r\\n          \"+_vm._s(asset.date)+\"\\r\\n        \")]),_vm._v(\" \"),_c('td',[_c('div',{staticClass:\"unstackable three fields\"},[_c('div',{staticClass:\"field\"},[_c('a',{staticClass:\"ui icon button\",attrs:{\"target\":\"_blank\",\"href\":'/material/asset/' + asset.id + '/'}},[_c('i',{staticClass:\"linkify icon\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"field\"},[_c('button',{staticClass:\"ui icon button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.editUploadTrigger(asset.id)}}},[_c('i',{staticClass:\"upload icon\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"field\"},[_c('button',{staticClass:\"ui icon button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.remove(index)}}},[_c('i',{staticClass:\"close icon\"})])])])])])}),0)]),_vm._v(\" \"),_c('pagination',{attrs:{\"pageConfig\":_vm.pageConfig,\"pathPrefix\":\"/materials/\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js?sourceMap!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??ref--1-2!./Material.less?vue&type=style&index=0&id=6572598a&lang=less&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"4c6d9782\", content, true, {});","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./Material.html?vue&type=template&id=6572598a&scoped=true&\"","let Material = {\n  props: ['lib', 'status', 'config', 'progress', 'error', 'view'],\n  data() {    \n    this.$i18n.locale = this.config.locale\n    return {\n      filename: '',\n      file: null,\n      assets: [],\n      changedIDs: [],\n      editUploadAssetID: null,\n      pageConfig: {\n        page: 0,\n        maxPage: 0\n      },\n    }\n  },\n  computed: {\n    enableUpload: function () {\n      return (this.filename !== '' \n              && this.file !== null)\n    },\n  },\n  watch: {\n    'pageConfig.page': function () {\n      if (isNaN(this.pageConfig.page) === false) {\n        let currentPage = this.$route.params.page\n        if (isNaN(currentPage) === true\n                || parseInt(currentPage, 10) !== this.pageConfig.page) {\n          this.$router.push('/material/' + this.pageConfig.page)\n          localStorage.setItem('Material.page', this.pageConfig.page)\n          this.list()\n        }\n      }\n    }\n  },\n  mounted() {\n    this.initPage()\n    \n    this.status.title = this.$t('Material Assets Management')\n    this.list()\n  },\n  methods: {\n    initPage: function () {\n      if (isNaN(this.$route.params.page) === true) {\n        let lastPage = localStorage.getItem('Material.page')\n        if (isNaN(lastPage) === false && lastPage !== null) {\n          this.pageConfig.page = lastPage\n        }\n        else {\n          this.pageConfig.page = 1\n        }\n        //this.$router.push(`/materials/${this.pageConfig.page}`)\n        //localStorage.setItem('Materials.page', this.page)\n      }\n      else {\n        this.pageConfig.page = parseInt(this.$route.params.page, 10)\n      }\n    },\n    \n    list: async function () {\n      let result = await this.lib.AxiosHelper.get('/Admin/MaterialAsset/list', {\n        page: this.pageConfig.page\n      })\n      if (typeof(result) === 'object') {\n        if (Array.isArray(result.assets)) {\n          if (result.assets.length === 0) {\n            if (this.pageConfig.page !== 1) {\n              this.pageConfig.page = 1\n            }\n            return false\n          }\n          this.assets = result.assets\n        }\n        if (typeof(result.maxPage) === 'number') {\n          this.pageConfig.maxPage = result.maxPage\n        }\n      }\n    },\n    checkEnableUpload: function () {\n      this.file = this.$refs.FileInput.files[0]\n    },\n    reset: function () {\n      this.filename = ''\n      this.file = null\n      this.$refs.FileInput.value = ''\n    },\n    upload: async function () {\n      let result = await this.lib.AxiosHelper.upload('/Admin/MaterialAsset/upload', {\n        asset: this.file,\n        filename: this.filename\n      })\n      //console.log(result)\n      this.assets.unshift({\n        id: result.assetID,\n        domain_id: result.domainID,\n        date: result.date,\n        filename: this.filename\n      })\n      this._sortAssets()\n      this.reset()\n    },\n    _sortAssets: function () {\n      this.assets = this.assets.sort(function (a, b) {\n        return a.filename > b.filename ? 1 : -1\n      })\n    },\n    change: function (assetID) {\n      for (let i = 0; i < this.assets.length; i++) {\n        let asset = this.assets[i]\n        if (asset.id === assetID && asset.filename === '') {\n          return false\n        }\n      }\n      \n      if (this.changedIDs.indexOf(assetID) === -1) {\n        this.changedIDs.push(assetID)\n      }\n    },\n    isAssetChanged: function (assetID) {\n      for (let i = 0; i < this.assets.length; i++) {\n        let asset = this.assets[i]\n        if (asset.id === assetID && asset.filename === '') {\n          return false\n        }\n      }\n      \n      return (this.changedIDs.indexOf(assetID) > -1)\n    },\n    edit: async function (assetIndex) {\n      let asset = this.assets[assetIndex]\n      \n      if (asset.filename === '') {\n        return false\n      }\n      \n      let result = await this.lib.AxiosHelper.upload('/Admin/MaterialAsset/edit', {\n        assetID: asset.id,\n        filename: asset.filename\n      })\n      \n      if (result === 0 || result === null) {\n        return false\n      }\n      \n      this.changedIDs = this.changedIDs.filter((id) => {\n        return id !== asset.id\n      })\n      this._sortAssets()\n    },\n    remove: async function (assetIndex) {\n      let asset = this.assets[assetIndex]\n      \n      if (asset.filename === '') {\n        return false\n      }\n      \n      let confirmMessage = this.$t('Are you sure to remove {0}?', [asset.filename])\n      if (window.confirm(confirmMessage) === false) {\n        return false\n      }\n      \n      let result = await this.lib.AxiosHelper.upload('/Admin/MaterialAsset/remove', {\n        assetID: asset.id\n      })\n      \n      if (result === 0 || result === null) {\n        return false\n      }\n      \n      this.changedIDs = this.changedIDs.filter((id) => {\n        return id !== asset.id\n      })\n      this.assets.splice(assetIndex, 1)\n    },\n    editUploadTrigger: function (assetID) {\n      this.editUploadAssetID = assetID\n      this.$refs.EditUploadInput.click()\n    },\n    editUpload: async function () {\n      let result = await this.lib.AxiosHelper.upload('/Admin/MaterialAsset/editUpload', {\n        assetID: this.editUploadAssetID,\n        asset: this.$refs.EditUploadInput.files[0]\n      })\n      \n      if (result === 1) {\n        window.alert(this.$t('File uploaded.'))\n      }\n      \n      this.editUploadAssetID = null\n      this.$refs.EditUploadInput.value = ''\n    }\n  } // methods\n}\n\nexport default Material","import mod from \"-!./Material.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!./Material.js?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./Material.json?vue&type=custom&index=0&blockType=i18n&issuerPath=D%3A%5Cxampp%5Chtdocs%5Cprojects-nodejs%5CPACOR%5Cwebpack-app%5Cadmin%5CMaterial%5CMaterial.vue\"; export default mod; export * from \"-!../../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./Material.json?vue&type=custom&index=0&blockType=i18n&issuerPath=D%3A%5Cxampp%5Chtdocs%5Cprojects-nodejs%5CPACOR%5Cwebpack-app%5Cadmin%5CMaterial%5CMaterial.vue\"","import mod from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js?sourceMap!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??ref--1-2!./Material.less?vue&type=style&index=0&id=6572598a&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js?sourceMap!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??ref--1-2!./Material.less?vue&type=style&index=0&id=6572598a&lang=less&scoped=true&\"","import { render, staticRenderFns } from \"./Material.html?vue&type=template&id=6572598a&scoped=true&\"\nimport script from \"./Material.js?vue&type=script&lang=js&\"\nexport * from \"./Material.js?vue&type=script&lang=js&\"\nimport style0 from \"./Material.less?vue&type=style&index=0&id=6572598a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6572598a\",\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./Material.json?vue&type=custom&index=0&blockType=i18n&issuerPath=D%3A%5Cxampp%5Chtdocs%5Cprojects-nodejs%5CPACOR%5Cwebpack-app%5Cadmin%5CMaterial%5CMaterial.vue\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports"],"sourceRoot":""}