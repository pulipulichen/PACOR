(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{460:function(t,e,s){var a=s(706);"string"==typeof a&&(a=[[t.i,a,""]]);var r={insert:"head",singleton:!1};s(7)(a,r);a.locals&&(t.exports=a.locals)},461:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"TEST_MESSAGE":"Test Message"},"zh-TW":{"TEST_MESSAGE":"測試訊息"}}'),delete t.options._Ctor}},705:function(t,e,s){"use strict";var a=s(460);s.n(a).a},706:function(t,e,s){(t.exports=s(6)(!1)).push([t.i,".log-referer[data-v-0d0c60e3]{max-width:4em;overflow:hidden;text-overflow:clip;white-space:nowrap;word-break:break-all}.log-message .log-message-pre[data-v-0d0c60e3]{white-space:pre;margin:0;max-width:60vw;max-height:6rem;overflow-x:auto;overflow-y:auto}tr.bottom-gap td[data-v-0d0c60e3]{border-bottom:.5em solid #666}",""])},707:function(t,e,s){"use strict";var a=s(461),r=s.n(a);e.default=r.a},733:function(t,e,s){"use strict";s.r(e);function a(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"RemoteConsoleLog"},[a("h1",[s._v(s._s(s.$t("Remote Console Log")))]),s._v(" "),a("button",{staticClass:"ui button",attrs:{type:"button"},on:{click:function(t){s.logs=[]}}},[s._v("\r\n            "+s._s(s.$t("Clear"))+"\r\n  ")]),s._v(" "),a("div",{staticClass:"ui segment log-list"},[a("table",{staticClass:"ui unstackable compact small striped celled table"},[a("thead",[a("tr",[a("th",[s._v(s._s(s.$t("Webpage")))]),s._v(" "),a("th",[s._v(s._s(s.$t("User")))]),s._v(" "),a("th",[s._v(s._s(s.$t("Message")))]),s._v(" "),a("th",[s._v(s._s(s.$t("Time")))])])]),s._v(" "),a("tbody",s._l(s.logs,function(t,e){return a("tr",{key:t.id,class:s.logTrClassList(t,e)},[a("td",{staticClass:"log-referer",attrs:{"data-label":s.$t("Webpage"),title:t.referer}},[s._v("\r\n            "+s._s(s.parseURI(t.referer))+"\r\n          ")]),s._v(" "),a("td",{staticClass:"log-user",attrs:{"data-label":s.$t("User"),title:t.user}},[s._v("\r\n            "+s._s(s.parseIP(t.user))+"\r\n          ")]),s._v(" "),a("td",{staticClass:"log-message",attrs:{"data-label":s.$t("Message"),title:t.message}},[a("pre",{staticClass:"log-message-pre"},[s._v(s._s(t.message))])]),s._v(" "),a("td",{staticClass:"log-time",attrs:{"data-label":s.$t("Time"),title:t.created_at}},[s._v("\r\n            "+s._s(s.parseCompactDate(t.created_at))+"\r\n          ")])])}),0)])])])}a._withStripped=!0;var r,i=s(0),o=s.n(i),n=s(1),l={props:["lib","status","config"],data:function(){return this.$i18n.locale=this.config.locale,{logs:[],afterTime:null,intervalSeconds:5}},mounted:function(){this.load(),this.status.title=this.$t("Console")},methods:{load:(r=s.n(n)()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.lib.AxiosHelper.get("/admin/Log/get",{afterTime:this.afterTime});case 2:return e=t.sent,Array.isArray(e)&&0<e.length&&(this.logs=e.concat(this.logs)),this.afterTime=(new Date).getTime(),t.next=7,this.lib.VueHelper.sleep(1e3*this.intervalSeconds);case 7:this.load();case 8:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)}),parseURI:function(t){if(t)return t.endsWith("/")&&(t=t.slice(0,-1)),"..."+t.slice(t.lastIndexOf("/"))},parseIP:function(t){if(t)return".."+t.slice(t.lastIndexOf("."))},parseCompactDate:function(t){if(t)return t.split(":").slice(1).join(":")},logTrClassList:function(t,e){var s=[t.type];if(e<this.logs.length-1){var a=this.logs[e+1];(a.user!==t.user||a.referer!==t.referer||18e4<t.created_at_unixms-a.created_at_unixms)&&s.push("bottom-gap")}return s.join(" ")}}},c=(s(705),s(2)),u=s(707),p=Object(c.a)(l,a,[],!1,null,"0d0c60e3",null);"function"==typeof u.default&&Object(u.default)(p),p.options.__file="webpack-app/admin/RemoteConsoleLog/RemoteConsoleLog.vue";e.default=p.exports}}]);