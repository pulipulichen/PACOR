{"version":3,"sources":["webpack:///./webpack-app/admin/GroupDashboard/GroupDashboard.yaml","webpack:///./webpack-app/admin/GroupDashboard/GroupDashboard.less","webpack:///./webpack-app/admin/GroupDashboard/GroupDashboard.html?1a20","webpack:///./webpack-app/admin/GroupDashboard/GroupDashboard.less?4c33","webpack:///./webpack-app/admin/GroupDashboard/GroupDashboard.html","webpack:///./webpack-app/admin/GroupDashboard/GroupDashboard.js","webpack:///./webpack-app/admin/GroupDashboard/GroupDashboard.js?7062","webpack:///./webpack-app/admin/GroupDashboard/GroupDashboard.less?1eb4","webpack:///./webpack-app/admin/GroupDashboard/GroupDashboard.vue","webpack:///./webpack-app/admin/GroupDashboard/GroupDashboard.yaml?b71c","webpack:///./webpack-app/admin/GroupDashboard/sigma.js/plugins/sigma.exporters.svg/sigma.exporters.svg.js","webpack:///./webpack-app/admin/GroupDashboard/sigma.js/plugins/sigma.plugins.dragNodes/sigma.plugins.dragNodes.js"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA,kCAAkC,mBAAmB,iXAAiX;AACta;AACA;;;;;;;;;;;;ACJA,2BAA2B,mBAAO,CAAC,2GAAsD;AACzF;AACA,cAAc,QAAS,0CAA0C,6BAA6B,GAAG,qCAAqC,iBAAiB,kBAAkB,2BAA2B,GAAG,yDAAyD,kCAAkC,wBAAwB,yBAAyB,GAAG,4CAA4C,0BAA0B,yBAAyB,wBAAwB,GAAG,SAAS,oIAAoI,YAAY,MAAM,KAAK,UAAU,UAAU,YAAY,MAAM,KAAK,YAAY,aAAa,aAAa,MAAM,KAAK,YAAY,aAAa,aAAa,wJAAwJ,6BAA6B,GAAG,qCAAqC,iBAAiB,kBAAkB,2BAA2B,GAAG,yDAAyD,kCAAkC,wBAAwB,yBAAyB,GAAG,4CAA4C,0BAA0B,yBAAyB,wBAAwB,GAAG,KAAK;;;;;;;;;;;;;ACFlyC;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,uCAAuC;AAC5C;AACA,iBAAiB,mCAAmC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,oBAAoB,iCAAiC;AACrD;AACA;AACA,mBAAmB,sBAAsB;AACzC,qBAAqB,2BAA2B;AAChD,uBAAuB,yBAAyB;AAChD,yBAAyB,4BAA4B;AACrD;AACA;AACA;AACA,wBAAwB,qCAAqC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;AACA,sBAAsB;AACtB,aAAa;AACb;AACA,uBAAuB,oCAAoC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,2BAA2B,+BAA+B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,OAAO;AACP;AACA,iBAAiB,4BAA4B;AAC7C,kBAAkB,SAAS,wCAAwC,EAAE;AACrE;AACA;AACA;AACA,mBAAmB,yBAAyB;AAC5C,qBAAqB,gCAAgC;AACrD;AACA;AACA,uBAAuB,uBAAuB;AAC9C,yBAAyB,mCAAmC;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,mBAAmB,SAAS,2CAA2C,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,uBAAuB;AAC9C,yBAAyB,mCAAmC;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,6BAA6B,kDAAkD;AAC/E;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,6BAA6B,SAAS,iCAAiC,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,4BAA4B;AACjD,sBAAsB,SAAS,qCAAqC,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,wBAAwB,yBAAyB;AACjD,yBAAyB,kCAAkC;AAC3D;AACA;AACA;AACA;AACA,yBAAyB;AACzB,mBAAmB;AACnB;AACA,6BAA6B,2BAA2B;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,6BAA6B,2BAA2B;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,gCAAgC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,iBAAiB,4BAA4B;AAC7C,kBAAkB,SAAS,uCAAuC,EAAE;AACpE;AACA;AACA;AACA;AACA;AACA,WAAW,0BAA0B;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA;AACA;AACA,iBAAiB,4BAA4B;AAC7C,kBAAkB,SAAS,iCAAiC,EAAE;AAC9D;AACA;AACA;AACA,oBAAoB,yBAAyB;AAC7C;AACA;AACA;AACA;AACA,sBAAsB;AACtB,aAAa;AACb;AACA,uBAAuB,+BAA+B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC5UA;;AAEA;AACA,cAAc,mBAAO,CAAC,0gBAAkQ;AACxR,4CAA4C,QAAS;AACrD;AACA;AACA,UAAU,mBAAO,CAAC,6HAAgE;AAClF,+CAA+C;AAC/C;AACA,GAAG,KAAU,EAAE,E;;;;;;;;;;;;ACVf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEqC;AACrC;AAC8E;AACR;;AAEtE;AACA;AACA,U;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iCAAiC,EAAE;;AAEnC;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,uCAAuC,SAAS;;AAEhD;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,uCAAuC,qBAAqB;;AAE5D;AACA;AACA,kCAAkC,GAAG;;AAErC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP,sBAAsB,qBAAqB;AAC3C;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA,OAAO;;AAEP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA,6BAA6B,mDAAK;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;;AAEA,kBAAkB,mDAAK,E;AACvB;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,mDAAK;AACrB;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEe,6E;;;;;;;;;;;;ACnRf;AAAA;AAAA,wCAAiE,CAAgB,kJAAG,EAAC,C;;;;;;;;;;;;ACArF;AAAA;AAAA;AAAA;AAAmU,CAAgB,6WAAG,EAAC,C;;;;;;;;;;;;ACAvV;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0G;AACzC;AACL;AACwC;;;AAGpG;AAC6F;AAC7F,gBAAgB,2GAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,sGAAM;AACR,EAAE,+GAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACkN;AAClN,WAAW,oOAAM,iBAAiB,4OAAM;;AAExC;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;AC3Cf;AAAA;AAAA;AAAA;AAA8Q,CAAgB,oVAAG,EAAC,C;;;;;;;;;;;ACAlS,gF;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAqC;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,mDAAK;AAClB;;AAEA,EAAE,mDAAK;;;AAGP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,MAAM;AACpB,cAAc,SAAS;AACvB;AACA;AACA,IAAI,mDAAK;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;;AAEA,4BAA4B,mDAAK;AACjC;AACA;;AAEA;AACA,4BAA4B,mDAAK;AACjC;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oDAAoD,UAAU,EAAE;AAChE;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B,2CAA2C;AACvE;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B,yCAAyC;AACnE;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,MAAM;AACpB,cAAc,SAAS;AACvB;AACA,EAAE,mDAAK;AACP;AACA;AACA;AACA;;AAEA;AACA,MAAM,mDAAK;AACX,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,cAAc,MAAM;AACpB;AACA,EAAE,mDAAK;AACP;AACA;AACA;AACA;AACA;;AAEA,CAAC","file":"admin-components/group-dashboard.js","sourcesContent":["module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"en\":null,\"zh-TW\":{\"Group Members\":\"小組成員\",\"Group Dashboard\":\"小組儀表板\",\"Collaborative Reading Times\":\"協助閱讀時間\",\"Social Networks\":\"互動分析\",\"Period\":\"時期\",\"Graphs\":\"互動圖\",\"Social Networks Data\":\"互動資料\",\"Social Networks Graph\":\"互動圖\",\"Export Group Data\":\"匯出小組資料\",\"Dashboard Mode\":\"儀表板設定\",\"Completed\":\"完成的成員\",\"All\":\"所有成員\",\"Group Indicators\":\"小組指標\",\"Indicator\":\"指標\",\"Value\":\"值\",\"indicator_test\":\"測試指標\"}}')\n  delete Component.options._Ctor\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \".gruop-seq-id-header[data-v-38ec61a3] {\\n  margin-top: 0 !important;\\n}\\n.graph-container[data-v-38ec61a3] {\\n  width: 400px;\\n  height: 400px;\\n  border: 1px solid #CCC;\\n}\\n.period-container[data-v-38ec61a3]:not(:last-of-type) {\\n  border-bottom: 1px solid #CCC;\\n  margin-bottom: 1rem;\\n  padding-bottom: 1rem;\\n}\\n.period-graph-container[data-v-38ec61a3] {\\n  display: inline-block;\\n  margin-right: 0.5rem;\\n  margin-bottom: 1rem;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"GroupDashboard.less?vue&type=style&index=0&id=38ec61a3&lang=less&scoped=true&\"],\"names\":[],\"mappings\":\"AAAA;EACE,wBAAwB;AAC1B;AACA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;AACxB;AACA;EACE,6BAA6B;EAC7B,mBAAmB;EACnB,oBAAoB;AACtB;AACA;EACE,qBAAqB;EACrB,oBAAoB;EACpB,mBAAmB;AACrB\",\"file\":\"GroupDashboard.less?vue&type=style&index=0&id=38ec61a3&lang=less&scoped=true&\",\"sourcesContent\":[\".gruop-seq-id-header[data-v-38ec61a3] {\\n  margin-top: 0 !important;\\n}\\n.graph-container[data-v-38ec61a3] {\\n  width: 400px;\\n  height: 400px;\\n  border: 1px solid #CCC;\\n}\\n.period-container[data-v-38ec61a3]:not(:last-of-type) {\\n  border-bottom: 1px solid #CCC;\\n  margin-bottom: 1rem;\\n  padding-bottom: 1rem;\\n}\\n.period-graph-container[data-v-38ec61a3] {\\n  display: inline-block;\\n  margin-right: 0.5rem;\\n  margin-bottom: 1rem;\\n}\\n\"]}]);\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"ui form UserDashboard\" },\n    [\n      _c(\"div\", { staticClass: \"ui secondary menu\" }, [\n        _c(\n          \"a\",\n          {\n            staticClass: \"icon item\",\n            attrs: {\n              href: \"#/webpage-dashboard/\" + _vm.$route.params.webpageID\n            }\n          },\n          [_c(\"i\", { staticClass: \"angle left icon\" })]\n        ),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"item\" }, [\n          _c(\"div\", { staticClass: \"ui header\" }, [\n            _c(\"div\", { staticClass: \"content\" }, [\n              _c(\"div\", { staticClass: \"sub header\" }, [\n                _vm._v(_vm._s(_vm.webpagePath))\n              ]),\n              _vm._v(\" \"),\n              _c(\"h2\", { staticClass: \"gruop-seq-id-header\" }, [\n                _vm._v(\n                  \"\\r\\n            \" +\n                    _vm._s(_vm.$t(\"Group\")) +\n                    \" #\" +\n                    _vm._s(_vm.group.group_seq_id + 1) +\n                    \" (\" +\n                    _vm._s(\n                      _vm.$t(\"{0} users\", _vm.group.users.length, [\n                        _vm.group.users.length\n                      ])\n                    ) +\n                    \")\\r\\n          \"\n                )\n              ])\n            ])\n          ])\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"right menu\" }, [\n          _c(\n            \"a\",\n            {\n              staticClass: \"ui item\",\n              attrs: { href: _vm.status.webpageURL, target: \"_blank\" }\n            },\n            [\n              _c(\"i\", { staticClass: \"external link icon\" }),\n              _vm._v(\n                \"\\r\\n        \" + _vm._s(_vm.$t(\"Open Webpage\")) + \"\\r\\n      \"\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          (_vm.status.role = \"global_admin\")\n            ? _c(\n                \"a\",\n                {\n                  staticClass: \"ui item\",\n                  attrs: {\n                    href: \"/admin/Database/admin?table=reading_progresses\",\n                    target: \"_blank\"\n                  }\n                },\n                [\n                  _c(\"i\", { staticClass: \"database icon\" }),\n                  _vm._v(\n                    \"\\r\\n        \" + _vm._s(_vm.$t(\"Database\")) + \"\\r\\n      \"\n                  )\n                ]\n              )\n            : _vm._e()\n        ])\n      ]),\n      _vm._v(\" \"),\n      _c(\"table-of-contents\", {\n        ref: \"toc\",\n        attrs: { config: _vm.config, lib: _vm.lib, headings: \"h3, h4\" }\n      }),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"ui segment\" }, [\n        _c(\"h3\", { attrs: { id: _vm.attrHeaderID(\"configuration\") } }, [\n          _vm._v(\"\\r\\n      \" + _vm._s(_vm.$t(\"Configuration\")) + \"\\r\\n    \")\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"ui form\" }, [\n          _c(\"div\", { staticClass: \"grouped fields\" }, [\n            _c(\"label\", [_vm._v(_vm._s(_vm.$t(\"Dashboard Mode\")))]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"field\" }, [\n              _c(\"div\", { staticClass: \"ui radio checkbox\" }, [\n                _c(\"input\", {\n                  directives: [\n                    {\n                      name: \"model\",\n                      rawName: \"v-model\",\n                      value: _vm.dashboardFilterMode,\n                      expression: \"dashboardFilterMode\"\n                    }\n                  ],\n                  attrs: {\n                    type: \"radio\",\n                    name: \"dashboardMode\",\n                    value: \"onlyCompleted\",\n                    id: \"dashboardFilterMode_onlyCompleted\"\n                  },\n                  domProps: {\n                    checked: _vm._q(_vm.dashboardFilterMode, \"onlyCompleted\")\n                  },\n                  on: {\n                    change: function($event) {\n                      _vm.dashboardFilterMode = \"onlyCompleted\"\n                    }\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\n                  \"label\",\n                  { attrs: { for: \"dashboardFilterMode_onlyCompleted\" } },\n                  [\n                    _vm._v(\n                      \"\\r\\n              \" +\n                        _vm._s(_vm.$t(\"Completed\")) +\n                        \"\\r\\n            \"\n                    )\n                  ]\n                )\n              ])\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"field\" }, [\n              _c(\"div\", { staticClass: \"ui radio checkbox\" }, [\n                _c(\"input\", {\n                  directives: [\n                    {\n                      name: \"model\",\n                      rawName: \"v-model\",\n                      value: _vm.dashboardFilterMode,\n                      expression: \"dashboardFilterMode\"\n                    }\n                  ],\n                  attrs: {\n                    type: \"radio\",\n                    name: \"dashboardMode\",\n                    value: \"all\",\n                    id: \"dashboardFilterMode_all\"\n                  },\n                  domProps: { checked: _vm._q(_vm.dashboardFilterMode, \"all\") },\n                  on: {\n                    change: function($event) {\n                      _vm.dashboardFilterMode = \"all\"\n                    }\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"label\", { attrs: { for: \"dashboardFilterMode_all\" } }, [\n                  _vm._v(\n                    \"\\r\\n              \" +\n                      _vm._s(_vm.$t(\"All\")) +\n                      \"\\r\\n            \"\n                  )\n                ])\n              ])\n            ])\n          ])\n        ])\n      ]),\n      _vm._v(\" \"),\n      _vm.groupIndicatorsKeys.length > 0\n        ? _c(\"div\", { staticClass: \"ui segment\" }, [\n            _c(\"h3\", { attrs: { id: _vm.attrHeaderID(\"indicators\") } }, [\n              _vm._v(\n                \"\\r\\n      \" + _vm._s(_vm.$t(\"Group Indicators\")) + \"\\r\\n    \"\n              )\n            ]),\n            _vm._v(\" \"),\n            _c(\"table\", { staticClass: \"ui table\" }, [\n              _c(\"thead\", [\n                _c(\"tr\", [\n                  _c(\"th\", [\n                    _vm._v(\n                      \"\\r\\n            \" +\n                        _vm._s(_vm.$t(\"Indicator\")) +\n                        \"\\r\\n          \"\n                    )\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"th\", [\n                    _vm._v(\n                      \"\\r\\n            \" +\n                        _vm._s(_vm.$t(\"Value\")) +\n                        \"\\r\\n          \"\n                    )\n                  ])\n                ])\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"tbody\",\n                _vm._l(_vm.groupIndicatorsKeys, function(key) {\n                  return _c(\"tr\", [\n                    _c(\"td\", [_vm._v(_vm._s(_vm.$t(\"indicator_\" + key)))]),\n                    _vm._v(\" \"),\n                    _c(\"td\", [_vm._v(_vm._s(_vm.groupIndicators[key]))])\n                  ])\n                }),\n                0\n              )\n            ]),\n            _vm._v(\" \"),\n            _c(\"form\", { staticClass: \"ui form\" }, [\n              _c(\"div\", { staticClass: \"ui fluid buttons\" }, [\n                _c(\n                  \"a\",\n                  {\n                    staticClass: \"ui button\",\n                    on: { click: _vm.initDashboard }\n                  },\n                  [\n                    _c(\"i\", { staticClass: \"redo icon\" }),\n                    _vm._v(\n                      \"\\r\\n          \" +\n                        _vm._s(_vm.$t(\"Reload\")) +\n                        \"\\r\\n        \"\n                    )\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"a\",\n                  {\n                    staticClass: \"ui button\",\n                    on: {\n                      click: function($event) {\n                        return _vm.lib.ClipboardHelper.copy(\n                          _vm.groupIndicatorsTSV\n                        )\n                      }\n                    }\n                  },\n                  [\n                    _c(\"i\", { staticClass: \"copy icon\" }),\n                    _vm._v(\n                      \"\\r\\n           \" +\n                        _vm._s(_vm.$t(\"Copy\")) +\n                        \"\\r\\n        \"\n                    )\n                  ]\n                )\n              ]),\n              _vm._v(\" \"),\n              _c(\"textarea\", {\n                directives: [\n                  {\n                    name: \"model\",\n                    rawName: \"v-model\",\n                    value: _vm.groupIndicatorsTSV,\n                    expression: \"groupIndicatorsTSV\"\n                  }\n                ],\n                domProps: { value: _vm.groupIndicatorsTSV },\n                on: {\n                  input: function($event) {\n                    if ($event.target.composing) {\n                      return\n                    }\n                    _vm.groupIndicatorsTSV = $event.target.value\n                  }\n                }\n              })\n            ])\n          ])\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"ui segment\" }, [\n        _c(\"h3\", { attrs: { id: _vm.attrHeaderID(\"groupMembers\") } }, [\n          _vm._v(\"\\r\\n      \" + _vm._s(_vm.$t(\"Group Members\")) + \"\\r\\n    \")\n        ]),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"ui cards\" },\n          _vm._l(_vm.group.users, function(groupUser) {\n            return _c(\"reader-card\", {\n              attrs: {\n                user: groupUser,\n                lib: _vm.lib,\n                status: _vm.status,\n                config: _vm.config,\n                viewOnNewWindow: true\n              }\n            })\n          }),\n          1\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"ui segment\" }, [\n        _c(\"h3\", { attrs: { id: _vm.attrHeaderID(\"export\") } }, [\n          _vm._v(\"\\r\\n      \" + _vm._s(_vm.$t(\"Export\")) + \"\\r\\n    \")\n        ]),\n        _vm._v(\" \"),\n        _c(\"form\", { staticClass: \"ui form\" }, [\n          _c(\n            \"a\",\n            {\n              staticClass: \"ui fluid button\",\n              attrs: { href: _vm.groupExportLink }\n            },\n            [\n              _c(\"i\", { staticClass: \"download icon\" }),\n              _vm._v(\n                \"\\r\\n        \" +\n                  _vm._s(_vm.$t(\"Export Group Data\")) +\n                  \"\\r\\n      \"\n              )\n            ]\n          )\n        ])\n      ])\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js?sourceMap!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??ref--1-2!./GroupDashboard.less?vue&type=style&index=0&id=38ec61a3&lang=less&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"482bb739\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js?sourceMap!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??ref--1-2!./GroupDashboard.less?vue&type=style&index=0&id=38ec61a3&lang=less&scoped=true&\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js?sourceMap!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??ref--1-2!./GroupDashboard.less?vue&type=style&index=0&id=38ec61a3&lang=less&scoped=true&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./GroupDashboard.html?vue&type=template&id=38ec61a3&scoped=true&\"","//import sigmaWebpack from 'sigma-webpack'\n//console.log(Object.keys(sigmaWebpack))\n\nimport { sigma } from 'sigma-webpack'\n//import './sigma.js/plugins/sigma.layout.forceAtlas2/sigma.layout.forceAtlas2.webpack.js'\nimport './sigma.js/plugins/sigma.plugins.dragNodes/sigma.plugins.dragNodes.js'\nimport './sigma.js/plugins/sigma.exporters.svg/sigma.exporters.svg.js'\n\nlet GroupDashboard = {\n  props: ['lib', 'status', 'config'],\n  data() {    \n    this.$i18n.locale = this.config.locale\n    return {\n      toc: null,\n      group: {\n        group_seq_id: null,\n        socialNetworks: [],\n        users: []\n      },\n      dashboardFilterMode: 'onlyCompleted', // 'all' || 'onlyCompleted'\n      groupIndicators: {}\n    }\n  },\n//  components: {\n//  },\n  computed: {\n    'webpagePath': function () {\n      if (typeof(this.status.webpageURL) === 'string') {\n        return '/' + this.status.webpageURL.split('/').slice(3).join('/')\n      }\n    },\n    groupExportLink () {\n      return '/admin/GroupDashboard/exportGroupData?webpageID=' + this.$route.params.webpageID + '&groupID=' + this.$route.params.groupID\n    },\n    groupIndicatorsTSV () {\n      let keys = this.groupIndicatorsKeys\n      let values = keys.map(key => this.groupIndicators[key])\n      \n      return [\n        keys.join('\\t'),\n        values.join('\\t')\n      ].join('\\n')\n    },\n    groupIndicatorsKeys () {\n      if (this.groupIndicators === undefined \n        || this.groupIndicators === null) {\n        return []\n      }\n      \n      return Object.keys(this.groupIndicators)\n    }\n  },\n  watch: {\n    dashboardFilterMode () {\n      this.initDashboard()\n    }\n  },\n  mounted() {\n    this.initDashboard()\n    this.toc = this.$refs.toc\n    \n  },\n  methods: {\n    initDashboard: async function () {\n      // 先跟伺服器取得webpage的資訊\n      this.reset()\n      \n      let groupID = Number(this.$route.params.groupID)\n      let data = {\n        webpageID: this.$route.params.webpageID,\n        groupID,\n        dashboardFilterMode: this.dashboardFilterMode\n      }\n      \n      let result = await this.lib.AxiosHelper.get('/admin/GroupDashboard/info', data)\n      \n      if (!result) {\n        throw new Error('GroupDahboard/info got error')\n      }\n      //console.log(result.groupIndicators)\n      \n      this.group = result.group\n      this.group.group_seq_id = Number(this.$route.params.groupID)\n      this.groupIndicators = result.groupIndicators\n      \n      //console.log(this.group.users[0])\n      //console.log(this.group.socialNetworks)\n      \n      this.status.webpageURL = result.webpageURL\n      this.status.title = this.$t('Group Dashboard') \n              + ' #' + (this.group.group_seq_id+1)\n              + ' (' + this.$t('{0} users', this.group.users.length, [this.group.users.length]) + ')'\n      \n      setTimeout(() => {\n        this.drawGraphs()\n      }, 100)\n    },\n    attrHeaderID: function (anchor) {\n      return '/group-dashboard/' + this.$route.params.webpageID + '/' + this.$route.params.groupID + '/' + anchor\n    },\n    reset: function () {\n      this.group.socialNetworks = []\n      this.group.users = []\n      this.groupIndicators = {}\n    },\n    nodesTable: function (nodes) {\n      let lines = [\n        ['id', 'size'].join('\\t')\n      ]\n      \n      lines = lines.concat(nodes.map(({id, size}) => [id, size].join('\\t')))\n      \n      return lines.join(\"\\n\")\n    },\n    edgesTable: function (nodes, edges) {\n      /*\n      let lines = [\n        ['source', 'target', 'size'].join('\\t')\n      ]\n      \n      lines = lines.concat(edges.map(({source, target, size}) => [source, target, size].join('\\t')))\n      \n      return lines.join(\"\\n\")\n      */\n      let nodesList = nodes.map(({id}) => id)\n     \n      let data = {}\n      nodes.forEach(sourceNode => {\n        data[sourceNode.id] = {}\n        nodes.forEach(targetNode => {\n          data[sourceNode.id][targetNode.id] = 0\n        })\n      })\n      \n      edges.forEach(({source, target, size}) => {\n        data[source][target] = size\n      })\n      \n      let lines = [\n        '\\t' + nodesList.join('\\t')\n      ]\n      \n      nodesList.forEach(source => {\n        let line = [source]\n        \n        nodesList.forEach(target => {\n          line.push(data[source][target])\n        })\n        \n        lines.push(line.join('\\t'))\n      })\n      \n      return lines.join('\\n')\n    },\n    drawGraphs: function () {\n      this.group.socialNetworks.forEach((socialNetwork, i) => {\n        //return false\n        //if (i > 0) {\n        //  return false\n        //}\n        \n        let s = this.initGraph(i)\n        //window.s = s\n        this.drawSocialNetworkNodes(s, socialNetwork.nodes)\n        this.drawSocialNetworkEdges(s, socialNetwork.edges)\n        s.refresh()\n        \n        /*\n        s.startForceAtlas2({\n          edgeWeightInfluence: 1,\n          strongGravityMode: true,\n          barnesHutOptimize: false\n          //iterationsPerRender: 10\n        })\n         */\n        setTimeout(() => {\n          //s.stopForceAtlas2()\n          \n          let dragListener = sigma.plugins.dragNodes(s, s.renderers[0])\n          \n          /*\n          s.toSVG({\n            labels: true,\n            classes: false,\n            data: true,\n            download: true,\n            filename: 'hello.svg'\n          });\n          */\n        }, 1000)\n        //console.log(socialNetwork.nodes)\n        //console.log('畫完了...?' + i)\n      })\n    },\n    initGraph: function (i) {\n      let containerID = 'graph_container_' + i\n      //console.log(containerID)\n        \n      let s = new sigma({ \n        //container: containerID,\n\n        // canvas renderer\n        // ===============\n        renderer: {\n          container: document.getElementById(containerID),\n          type: sigma.renderers.canvas\n          //type: sigma.renderers.svg\n        }\n      })\n\n      s.settings({\n        labelThreshold : 0,\n        sideMargin: 0.5,\n        minArrowSize: 10,\n        minEdgeSize: 1,\n        minNodeSize: 3,\n        maxEdgeSize: 3,\n        defaultEdgeColor: \"#00F\",\n      })\n      \n      return s\n    },\n    drawSocialNetworkNodes: function (s, nodes) {\n      \n      nodes.forEach(function(node, i, a) {\n        \n        // i 的位置要做重新定位\n        if (i > 0) {\n          if (i % 4 === 1) {\n            // 這是第幾個？\n            i = Math.floor(i / 2) + 1\n          }\n          else if (i % 4 === 2) {\n            i = a.length - Math.floor(i / 2)\n          }\n          else if (i % 4 === 3) {\n            i = a.length - Math.floor(i / 2) - 1\n          }\n          else {\n            i = Math.floor(i / 2)\n          }\n        }\n        \n        node.x = Math.sin(Math.PI * 2 * i / a.length);\n        node.y = Math.cos(Math.PI * 2 * i / a.length) * -1;\n\n        s.graph.addNode({\n          // Main attributes:\n          id: node.id,\n          label: node.id,\n          // Display attributes:\n          x: node.x,\n          y: node.y,\n          size: node.size,\n          //count: node.size\n        })\n      });\n    },\n    drawSocialNetworkEdges: function (s, edges) {\n      edges.forEach(function(edge, i) {\n\n        s.graph.addEdge({\n          id: 'edge' + i,\n          // Reference extremities:\n          source: edge.source,\n          target: edge.target,\n          type: 'curvedArrow',\n          size: edge.size,\n          color: \"#666\"\n        })\n      });\n    },\n  } // methods\n}\n\nexport default GroupDashboard","import mod from \"-!./GroupDashboard.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!./GroupDashboard.js?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js?sourceMap!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??ref--1-2!./GroupDashboard.less?vue&type=style&index=0&id=38ec61a3&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js?sourceMap!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??ref--1-2!./GroupDashboard.less?vue&type=style&index=0&id=38ec61a3&lang=less&scoped=true&\"","import { render, staticRenderFns } from \"./GroupDashboard.html?vue&type=template&id=38ec61a3&scoped=true&\"\nimport script from \"./GroupDashboard.js?vue&type=script&lang=js&\"\nexport * from \"./GroupDashboard.js?vue&type=script&lang=js&\"\nimport style0 from \"./GroupDashboard.less?vue&type=style&index=0&id=38ec61a3&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38ec61a3\",\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./GroupDashboard.yaml?vue&type=custom&index=0&blockType=i18n&issuerPath=D%3A%5Cxampp%5Chtdocs%5Cprojects-nodejs%5CPACOR%5Cwebpack-app%5Cadmin%5CGroupDashboard%5CGroupDashboard.vue&lang=yaml\"\nif (typeof block0 === 'function') block0(component)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\xampp\\\\htdocs\\\\projects-nodejs\\\\PACOR\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('38ec61a3')) {\n      api.createRecord('38ec61a3', component.options)\n    } else {\n      api.reload('38ec61a3', component.options)\n    }\n    module.hot.accept(\"./GroupDashboard.html?vue&type=template&id=38ec61a3&scoped=true&\", function () {\n      api.rerender('38ec61a3', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"webpack-app/admin/GroupDashboard/GroupDashboard.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./GroupDashboard.yaml?vue&type=custom&index=0&blockType=i18n&issuerPath=D%3A%5Cxampp%5Chtdocs%5Cprojects-nodejs%5CPACOR%5Cwebpack-app%5Cadmin%5CGroupDashboard%5CGroupDashboard.vue&lang=yaml\"; export default mod; export * from \"-!../../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./GroupDashboard.yaml?vue&type=custom&index=0&blockType=i18n&issuerPath=D%3A%5Cxampp%5Chtdocs%5Cprojects-nodejs%5CPACOR%5Cwebpack-app%5Cadmin%5CGroupDashboard%5CGroupDashboard.vue&lang=yaml\"","module.exports = \"http://pc.pulipuli.info:443/spa/asset/sigma.exporters.svg.js\";","import { sigma } from 'sigma-webpack'\n\n/**\n * This plugin provides a method to drag & drop nodes. Check the\n * sigma.plugins.dragNodes function doc or the examples/basic.html &\n * examples/api-candy.html code samples to know more.\n */\n(function() {\n  'use strict';\n\n  if (typeof sigma === 'undefined')\n    throw 'sigma is not declared';\n\n  sigma.utils.pkg('sigma.plugins');\n\n\n  /**\n   * This function will add `mousedown`, `mouseup` & `mousemove` events to the\n   * nodes in the `overNode`event to perform drag & drop operations. It uses\n   * `linear interpolation` [http://en.wikipedia.org/wiki/Linear_interpolation]\n   * and `rotation matrix` [http://en.wikipedia.org/wiki/Rotation_matrix] to\n   * calculate the X and Y coordinates from the `cam` or `renderer` node\n   * attributes. These attributes represent the coordinates of the nodes in\n   * the real container, not in canvas.\n   *\n   * Fired events:\n   * *************\n   * startdrag  Fired at the beginning of the drag.\n   * drag       Fired while the node is dragged.\n   * drop       Fired at the end of the drag if the node has been dragged.\n   * dragend    Fired at the end of the drag.\n   *\n   * Recognized parameters:\n   * **********************\n   * @param  {sigma}    s        The related sigma instance.\n   * @param  {renderer} renderer The related renderer instance.\n   */\n  function DragNodes(s, renderer) {\n    sigma.classes.dispatcher.extend(this);\n\n    // A quick hardcoded rule to prevent people from using this plugin with the\n    // WebGL renderer (which is impossible at the moment):\n    // if (\n    //   sigma.renderers.webgl &&\n    //   renderer instanceof sigma.renderers.webgl\n    // )\n    //   throw new Error(\n    //     'The sigma.plugins.dragNodes is not compatible with the WebGL renderer'\n    //   );\n\n    // Init variables:\n    var _self = this,\n      _s = s,\n      _body = document.body,\n      _renderer = renderer,\n      _mouse = renderer.container.lastChild,\n      _camera = renderer.camera,\n      _node = null,\n      _prefix = '',\n      _hoverStack = [],\n      _hoverIndex = {},\n      _isMouseDown = false,\n      _isMouseOverCanvas = false,\n      _drag = false;\n\n    if (renderer instanceof sigma.renderers.svg) {\n        _mouse = renderer.container.firstChild;\n    }\n\n    // It removes the initial substring ('read_') if it's a WegGL renderer.\n    if (renderer instanceof sigma.renderers.webgl) {\n      _prefix = renderer.options.prefix.substr(5);\n    } else {\n      _prefix = renderer.options.prefix;\n    }\n\n    renderer.bind('overNode', nodeMouseOver);\n    renderer.bind('outNode', treatOutNode);\n    renderer.bind('click', click);\n\n    _s.bind('kill', function() {\n      _self.unbindAll();\n    });\n\n    /**\n     * Unbind all event listeners.\n     */\n    this.unbindAll = function() {\n      _mouse.removeEventListener('mousedown', nodeMouseDown);\n      _body.removeEventListener('mousemove', nodeMouseMove);\n      _body.removeEventListener('mouseup', nodeMouseUp);\n      _renderer.unbind('overNode', nodeMouseOver);\n      _renderer.unbind('outNode', treatOutNode);\n    }\n\n    // Calculates the global offset of the given element more accurately than\n    // element.offsetTop and element.offsetLeft.\n    function calculateOffset(element) {\n      var style = window.getComputedStyle(element);\n      var getCssProperty = function(prop) {\n        return parseInt(style.getPropertyValue(prop).replace('px', '')) || 0;\n      };\n      return {\n        left: element.getBoundingClientRect().left + getCssProperty('padding-left'),\n        top: element.getBoundingClientRect().top + getCssProperty('padding-top')\n      };\n    };\n\n    function click(event) {\n      // event triggered at the end of the click\n      _isMouseDown = false;\n      _body.removeEventListener('mousemove', nodeMouseMove);\n      _body.removeEventListener('mouseup', nodeMouseUp);\n\n      if (!_hoverStack.length) {\n        _node = null;\n      }\n    };\n\n    function nodeMouseOver(event) {\n      // Don't treat the node if it is already registered\n      if (_hoverIndex[event.data.node.id]) {\n        return;\n      }\n\n      // Add node to array of current nodes over\n      _hoverStack.push(event.data.node);\n      _hoverIndex[event.data.node.id] = true;\n\n      if(_hoverStack.length && ! _isMouseDown) {\n        // Set the current node to be the last one in the array\n        _node = _hoverStack[_hoverStack.length - 1];\n        _mouse.addEventListener('mousedown', nodeMouseDown);\n      }\n    };\n\n    function treatOutNode(event) {\n      // Remove the node from the array\n      var indexCheck = _hoverStack.map(function(e) { return e; }).indexOf(event.data.node);\n      _hoverStack.splice(indexCheck, 1);\n      delete _hoverIndex[event.data.node.id];\n\n      if(_hoverStack.length && ! _isMouseDown) {\n        // On out, set the current node to be the next stated in array\n        _node = _hoverStack[_hoverStack.length - 1];\n      } else {\n        _mouse.removeEventListener('mousedown', nodeMouseDown);\n      }\n    };\n\n    function nodeMouseDown(event) {\n      _isMouseDown = true;\n      var size = _s.graph.nodes().length;\n\n      // when there is only node in the graph, the plugin cannot apply\n      // linear interpolation. So treat it as if a user is dragging\n      // the graph\n      if (_node && size > 1) {\n        _mouse.removeEventListener('mousedown', nodeMouseDown);\n        _body.addEventListener('mousemove', nodeMouseMove);\n        _body.addEventListener('mouseup', nodeMouseUp);\n\n        // Do not refresh edgequadtree during drag:\n        var k,\n            c;\n        for (k in _s.cameras) {\n          c = _s.cameras[k];\n          if (c.edgequadtree !== undefined) {\n            c.edgequadtree._enabled = false;\n          }\n        }\n\n        // Deactivate drag graph.\n        _renderer.settings({mouseEnabled: false, enableHovering: false});\n        _s.refresh();\n\n        _self.dispatchEvent('startdrag', {\n          node: _node,\n          captor: event,\n          renderer: _renderer\n        });\n      }\n    };\n\n    function nodeMouseUp(event) {\n      _isMouseDown = false;\n      _mouse.addEventListener('mousedown', nodeMouseDown);\n      _body.removeEventListener('mousemove', nodeMouseMove);\n      _body.removeEventListener('mouseup', nodeMouseUp);\n\n      // Allow to refresh edgequadtree:\n      var k,\n          c;\n      for (k in _s.cameras) {\n        c = _s.cameras[k];\n        if (c.edgequadtree !== undefined) {\n          c.edgequadtree._enabled = true;\n        }\n      }\n\n      // Activate drag graph.\n      _renderer.settings({mouseEnabled: true, enableHovering: true});\n      _s.refresh();\n\n      if (_drag) {\n        _self.dispatchEvent('drop', {\n          node: _node,\n          captor: event,\n          renderer: _renderer\n        });\n      }\n      _self.dispatchEvent('dragend', {\n        node: _node,\n        captor: event,\n        renderer: _renderer\n      });\n\n      _drag = false;\n      _node = null;\n    };\n\n    function nodeMouseMove(event) {\n      if(navigator.userAgent.toLowerCase().indexOf('firefox') > -1) {\n        clearTimeout(timeOut);\n        var timeOut = setTimeout(executeNodeMouseMove, 0);\n      } else {\n        executeNodeMouseMove();\n      }\n\n      function executeNodeMouseMove() {\n        var offset = calculateOffset(_renderer.container),\n            x = event.clientX - offset.left,\n            y = event.clientY - offset.top,\n            cos = Math.cos(_camera.angle),\n            sin = Math.sin(_camera.angle),\n            nodes = _s.graph.nodes(),\n            ref = [];\n\n        // Getting and derotating the reference coordinates.\n        for (var i = 0; i < 2; i++) {\n          var n = nodes[i];\n          var aux = {\n            x: n.x * cos + n.y * sin,\n            y: n.y * cos - n.x * sin,\n            renX: n[_prefix + 'x'],\n            renY: n[_prefix + 'y'],\n          };\n          ref.push(aux);\n        }\n\n        // Applying linear interpolation.\n        // if the nodes are on top of each other, we use the camera ratio to interpolate\n        if (ref[0].x === ref[1].x && ref[0].y === ref[1].y) {\n          var xRatio = (ref[0].renX === 0) ? 1 : ref[0].renX;\n          var yRatio = (ref[0].renY === 0) ? 1 : ref[0].renY;\n          x = (ref[0].x / xRatio) * (x - ref[0].renX) + ref[0].x;\n          y = (ref[0].y / yRatio) * (y - ref[0].renY) + ref[0].y;\n        } else {\n          var xRatio = (ref[1].renX - ref[0].renX) / (ref[1].x - ref[0].x);\n          var yRatio = (ref[1].renY - ref[0].renY) / (ref[1].y - ref[0].y);\n\n          // if the coordinates are the same, we use the other ratio to interpolate\n          if (ref[1].x === ref[0].x) {\n            xRatio = yRatio;\n          }\n\n          if (ref[1].y === ref[0].y) {\n            yRatio = xRatio;\n          }\n\n          x = (x - ref[0].renX) / xRatio + ref[0].x;\n          y = (y - ref[0].renY) / yRatio + ref[0].y;\n        }\n\n        // Rotating the coordinates.\n        _node.x = x * cos - y * sin;\n        _node.y = y * cos + x * sin;\n\n        _s.refresh();\n\n        _drag = true;\n        _self.dispatchEvent('drag', {\n          node: _node,\n          captor: event,\n          renderer: _renderer\n        });\n      }\n    };\n  };\n\n  /**\n   * Interface\n   * ------------------\n   *\n   * > var dragNodesListener = sigma.plugins.dragNodes(s, s.renderers[0]);\n   */\n  var _instance = {};\n\n  /**\n   * @param  {sigma} s The related sigma instance.\n   * @param  {renderer} renderer The related renderer instance.\n   */\n  sigma.plugins.dragNodes = function(s, renderer) {\n    // Create object if undefined\n    if (!_instance[s.id]) {\n      _instance[s.id] = new DragNodes(s, renderer);\n    }\n\n    s.bind('kill', function() {\n      sigma.plugins.killDragNodes(s);\n    });\n\n    return _instance[s.id];\n  };\n\n  /**\n   * This method removes the event listeners and kills the dragNodes instance.\n   *\n   * @param  {sigma} s The related sigma instance.\n   */\n  sigma.plugins.killDragNodes = function(s) {\n    if (_instance[s.id] instanceof DragNodes) {\n      _instance[s.id].unbindAll();\n      delete _instance[s.id];\n    }\n  };\n\n}).call(window);\n"],"sourceRoot":""}