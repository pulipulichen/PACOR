<div class="ui form">

  <annotation-editor-header 
    v-bind:config="config"
    v-bind:status="status"
    
    v-bind:type="type">
  </annotation-editor-header>

  <HTMLEditor 
    ref="editor"
    
    v-bind:contents="note"
    v-on:input="(c) => {note = c}"
    
    v-bind:editable="isEditable"
    v-bind:height="editorHeight"
    v-bind:placeholder="editorPlaceholder">
  </HTMLEditor>

  <div class="ui one column grid annotation-panel-buttons"
       v-if="isEditable">
    
    <block-exit></block-exit>
    
    <div v-bind:class="computedButtonsClass">

      <checkbox-toggle 
        v-if="annotationConfig.enableControlPermission"
        v-bind:label="$t('PUBLIC')"
        v-model="public">
      </checkbox-toggle>

      <template v-if="annotation.id">
        
        <countdown-button 
          v-bind:lib="lib"
          
          v-bind:text="note"
          v-bind:minWordCount="minWords"
          v-bind:locale="status.preference.locale"
          v-bind:enable="enableSubmitEdit"
          
          v-on:click="editAnnotation">
          {{ $t('EDIT') }}  
        </countdown-button>
        
        <button 
          type="button"
          class="ui button"
          v-on:click="deleteAnnotation">
          {{ $t('DELETE') }}  
        </button>
      </template>
      
      
      <template v-else>
        <countdown-button 
          v-bind:lib="lib"
          
          v-bind:minWordCount="minWords"
          v-bind:text="note"
          
          v-bind:locale="status.preference.locale"
          v-bind:enable="enableSubmitAdd"
          
          v-on:click="addAnnotation">
          {{ $t('ADD') }}  
        </countdown-button>
      </template>
    </div>
  </div>
</div>