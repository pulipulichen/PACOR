<compact-navigation 
  ref="nav" 
  v-bind:config="config"
  v-bind:status="status"
  v-bind:lib="lib"
  compactWidth="400"
  position="bottom"
  v-bind:pauseAtStart="pauseAtStart"
  v-if="status.progress.highlights"
  v-on:timeup="$emit('timeup')">
  <template v-slot:header>
    
    <a class="fitted item avatar in-top"
       v-on:click="showInstruction">
      <img v-bind:src="status.avatar">
      <div class="username">
        {{ lib.auth.username }}
      <div class="step">
        {{ $t('In {0} step', [$t('READING_PROGRESS.' + lib.auth.currentStep)]) }}
      </div>
      </div>
    </a>
    
    
    <div class="fitted item">
      <digital-countdown-timer 
        v-bind:config="config"
        v-bind:status="status"
        v-bind:lib="lib"
        
        v-bind:pauseAtStart="pauseAtStart">
      </digital-countdown-timer> 
    </div>
  </template>


  <!-- ========================= -->

  <template v-slot:items>

    <!-- for test -->
    <!--
    <a class="item"
       v-on:click="lib.auth.nextStep">
      Next Step (for test)
    </a>
    -->
    
    <annotation-type-filter 
      ref="AnnotationTypeFilter"
      v-bind:config="config"
      v-bind:status="status"
      v-bind:lib="lib">
    </annotation-type-filter>

    <div class="item">
      <search-manager 
        v-bind:status="status"
        v-bind:lib="lib">
      </search-manager>
    </div>

  </template>
  

</compact-navigation>