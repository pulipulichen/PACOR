<div class="ui segment AnnotationItem" 
     v-if="annotation"
     v-bind:class="computedContainerClassNames"
     v-on:mouseover="onMouseover"
     v-on:mouseout="onMouseout"
     v-on:click="onClick">

  <div class="meta text-container ui basic right labeled button"
       v-bind:class="{'clickable': findAnnotation}"
       v-on:click.stop="onFindAnnotation(annotation)">
    <span>
      {{ displayTime }}
    </span>

    <template v-if="lib.auth.enableCollaboration">
      <span class="likes"
            v-if="annotation.__meta__.rates_count > 0">
        {{ $t('{0} Likes', [annotation.__meta__.rates_count]) }}
      </span>

      <span class="comments"
            v-if="annotation.__meta__.replies_count > 0">
        {{ $t('{0} Comments', [annotation.__meta__.replies_count]) }}
      </span>
    </template>
      
    <i class="right angle icon"
       v-if="findAnnotation" />
  </div>

  <div class="left column">
    <div v-on:click.stop="onFindUser(annotation.user)"
         v-bind:class="{'clickable': findUser}"
         class="user">
      <img v-bind:src="annotation.user.avatar_url"
           class="avatar"/>
      <div class="username text-container">
        {{ username }}
      </div>
    </div>

    <annotation-module-button 
      v-bind:status="status"
      v-bind:annotationModule="annotation.type"
      v-bind:clickable="(typeof(findType) === 'function')"
      v-on:find="(type) => {onFindType(type)}"></annotation-module-button>

    <div class="note text-container" v-if="note" v-html="note"></div>
  </div>
    
</div>